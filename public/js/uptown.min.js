var viewportHeight,viewportWidth;$(function(){var _=1,S=0;viewportHeight=document.documentElement.clientHeight,viewportWidth=document.documentElement.clientWidth;var T=$('.wrapper'),P=$('header'),O=P.outerHeight(),L=$('.content'),W=$('#cardModule'),M=$('#cardMapWrap'),N=$('#addMapWrap'),R=$('.inner'),U=$('#profileTop'),V=U.outerHeight(),X=$('#cardTitle');U.height(viewportHeight-O-100);var Y=$('#photoSlider'),Z=Y.height();if(Y.width(1.3*Z),$('#cardMapWrap').length&&M.css({width:L.width()}),W.length&&W.css({minHeight:W.find('.card-left').outerHeight()}),$('.select-wrap').each(function(){$(this).find('input[type=hidden]').val($(this).find('.option-list li:first').attr('data-value')).trigger('change')}),$('.select-wrap .select').on('click',function(){var fe=$(this),me=fe.closest('.select-wrap'),ge=me.find('.option-list');ge.is(':visible')?(ge.slideUp(200),fe.removeClass('active'),fe.find('.arrow').removeClass('active'),me.removeClass('active')):($('.select-wrap .option-list:visible').length&&($('.select-wrap .option-list:visible').hide(),$('.select-wrap .select').removeClass('active'),$('.select-wrap .arrow').removeClass('active')),ge.slideDown(200),fe.addClass('active'),me.addClass('active'),fe.find('.arrow').addClass('active'),me.hasClass('js-editable-select')&&me.addClass('with-value'))}),$('.select-wrap .option-list li').on('click',function(){var fe=$(this),me=fe.closest('.select-wrap'),ge=me.find('.select .js-title');return!fe.hasClass('disabled')&&void(option=fe.html(),me.find('input[type=hidden]').val($(this).attr('data-value')).trigger('change'),ge.empty(),ge.html(option),fe.closest('.option-list').slideUp(200),me.find('.select').removeClass('active'),me.find('.arrow').removeClass('active'),me.removeClass('active'),me.hasClass('js-editable-select')&&me.addClass('with-value'))}),$(document).click(function(fe){$('.select-wrap .option-list:visible').length&&!$(fe.target).closest('.select-wrap').length&&($('.select-wrap .option-list').slideUp(200),$('.select-wrap').removeClass('active'),$('.select-wrap .select').removeClass('active'),$('.select-wrap .arrow').removeClass('active'))}),$(document).keyup(function(fe){27==fe.keyCode&&($('.select-wrap .option-list').slideUp(200),$('.select-wrap').removeClass('active'),$('.select-wrap .select').removeClass('active'),$('.select-wrap .arrow').removeClass('active'))}),$('.js-main-select-wrap input[type="hidden"]').on('change',function(){var fe=$(this),me=fe.closest('.js-main-select-wrap'),ge=fe.val(),ve=me.closest('.js-select-estate-wrap'),we=ve.find('.js-selected-items-wrap'),be=fe.closest('.js-dealtype-screen'),ye=be.find('.js-btn-wrap');we.find('.selected').removeClass('selected'),we.find('.js-selected-item[data-value='+ge+']').addClass('selected'),we.addClass('selected'),ye.slideDown(300)}),$('.addParameterSelect input[type="hidden"]').on('change',function(){var fe=$(this),me=fe.closest('.select-wrap'),ge=me.find('li.default').html(),ve=fe.val(),we=me.find('li[data-value='+ve+']').html(),be=me.closest('.js-add-parameter-wrap'),ye=be.find('.js-add-parameter-list'),ke=ye.find('li.to-clone').clone(!0,!0);ke.removeClass('to-clone'),ke.find('span:first').html(we),ke.appendTo(ye).addClass('visible').trigger('resize'),setTimeout(function(){me.find('span.title').html(ge),me.find('li[data-value='+ve+']').addClass('disabled')},100)}),$('.js-add-section-select input[type="hidden"]').on('change',function(){var fe=$(this),me=fe.closest('.select-wrap'),ge=me.find('li.default').html(),ve=fe.val(),we=me.closest('.js-add-section-wrap'),be=we.find('.js-add-section-list'),ye=be.find('.protocol-section'),ke=be.find('.js-add-section-item.to-clone').clone(!0,!0);'textSection'==ve?(ke.removeClass('to-clone'),ke.attr('data-value',ve),ke.insertBefore(ye).slideDown(300).trigger('resize'),editableInput($('.js-editable-input'))):be.find('.js-add-section-item[data-value='+ve+']').slideDown(300),setTimeout(function(){me.find('span.title').html(ge),'textSection'==ve?me.find('li[data-value='+ve+']').removeClass('disabled'):me.find('li[data-value='+ve+']').addClass('disabled')},100)}),$('.js-add-param-select input[type="hidden"]').on('change',function(){var fe=$(this),me=fe.closest('.select-wrap'),ge=me.find('li.default').html(),ve=fe.val(),we=me.closest('.js-add-param-wrap'),be=we.find('.js-add-param-list');be.find('.js-add-param-item[data-value='+ve+']').fadeIn(300),setTimeout(function(){me.find('span.title').html(ge),me.find('li[data-value='+ve+']').addClass('disabled')},100)}),$(document).on('click','.js-add-section-list .js-delete-link',function(){var fe=$(this),me=fe.find('.tooltip'),ge=fe.closest('.js-delete-wrap').attr('data-value'),ve=fe.closest('.js-add-section-wrap'),we=ve.find('.select-wrap');me.hide(),we.find('li[data-value='+ge+']').removeClass('disabled')}),$(document).on('click','.js-add-param-list .js-delete-fade-link',function(){var fe=$(this),me=fe.closest('.js-delete-fade-wrap').attr('data-value'),ge=fe.closest('.js-add-param-wrap'),ve=ge.find('.select-wrap');ve.find('li[data-value='+me+']').removeClass('disabled')}),$('.js-show-info-link').on('click',function(){var fe=$(this),me=fe.closest('.js-show-info-wrap'),ge=me.find('.js-show-info-block');fe.toggleClass('open'),ge.toggleClass('visible').trigger('resize')}),$('.js-slider').slick({fade:!0,cssEase:'linear'}),$('.js-card-visual-link').on('click',function(){var fe=$(this),me=fe.attr('data-visual'),ge=fe.closest('.js-card-visual-wrap'),ve=ge.find('.js-card-visual-content'),we=ge.find('.js-caption-wrap');ge.find('.current').removeClass('current'),fe.addClass('current'),ve.find('.js-card-visual-block[data-visual='+me+']').addClass('current'),we.find('.js-caption-block[data-visual='+me+']').addClass('current')}),$('.js-scroll-link').on('click',function(){var fe=$(this).attr('href'),me=$(fe).offset().top;return $('html:not(:animated),body:not(:animated)').animate({scrollTop:me},900),!1}),$('#card-map').length){var K=59.828762758445535,Q=30.39623149999999,ee=new google.maps.LatLng(K,Q),te=new google.maps.LatLng(59.83,30.385),ie={center:te,zoom:13,disableDefaultUI:!0,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_BOTTOM},scrollwheel:!1},se=new google.maps.Map(document.getElementById('card-map'),ie),oe=new google.maps.Marker({position:ee,title:'\u041A\u0443\u043F\u0447\u0438\u043D\u0441\u043A\u0430\u044F \u0443\u043B., 29\u043A1'}),ae=[{featureType:'landscape',stylers:[{saturation:-100},{lightness:65},{visibility:'on'}]},{featureType:'poi',stylers:[{saturation:-100},{lightness:51},{visibility:'simplified'}]},{featureType:'road.highway',stylers:[{saturation:-100},{visibility:'simplified'}]},{featureType:'road.arterial',stylers:[{saturation:-100},{lightness:30},{visibility:'on'}]},{featureType:'road.local',stylers:[{saturation:-100},{lightness:40},{visibility:'on'}]},{featureType:'transit',stylers:[{saturation:-100},{visibility:'simplified'}]},{featureType:'administrative.province',stylers:[{visibility:'off'}]},{featureType:'water',elementType:'labels',stylers:[{visibility:'on'},{lightness:-25},{saturation:-100}]},{featureType:'water',elementType:'geometry',stylers:[{hue:'#ffff00'},{lightness:-25},{saturation:-97}]}];se.setOptions({styles:ae}),oe.setMap(se),google.maps.event.addDomListener(window,'resize',function(){se.setCenter(te)})}if($('#addMap').length)var K=59.828762758445535,Q=30.39623149999999,ee=new google.maps.LatLng(K,Q),te=new google.maps.LatLng(59.83,30.385),ie={center:te,zoom:10,disableDefaultUI:!0,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_BOTTOM}},se=new google.maps.Map(document.getElementById('addMap'),ie);if($('#previewMap').length)var K=59.828762758445535,Q=30.39623149999999,ee=new google.maps.LatLng(K,Q),te=new google.maps.LatLng(59.83,30.385),ie={center:te,zoom:15,disableDefaultUI:!0,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_BOTTOM}},se=new google.maps.Map(document.getElementById('previewMap'),ie);setTimeout(function(){function fe(){me--,0===me&&clearInterval(ge),$('.js-animate').addClass('animated'),setTimeout(function(){$('.js-animate').removeClass('animated')},500)}var me=3,ge=setInterval(fe,1100);fe()},5e3),$(document).on('click','.js-drag-link.open-map',function(){var fe=$(this),me=$('#infrastructurePanel'),ge=fe.closest('.js-map-wrap');se.setOptions({styles:!1,zoom:15}),ge.addClass('visible').css({left:'50%',marginLeft:-$('.card-center').width()/2,width:0.8*viewportWidth}),fe.removeClass('animated').addClass('close-map').removeClass('open-map'),setTimeout(function(){fe.removeClass('js-animate')},20),me.addClass('visible'),_=0,setTimeout(function(){google.maps.event.trigger(se,'resize')},500),S?$('html:not(:animated),body:not(:animated)').animate({scrollTop:0+U.outerHeight()},900):$('html:not(:animated),body:not(:animated)').animate({scrollTop:0},900),X.removeClass('fixed'),$('.drag-link').removeClass('fixed')}),$(document).on('click','.js-drag-link.open-map',function(){var fe=$(this),me=$('#infrastructurePanel');se.setOptions({styles:!1,zoom:15}),M.addClass('visible').css({left:'50%',marginLeft:-$('.card-center').width()/2,width:0.7*viewportWidth}),fe.removeClass('animated').addClass('close-map').removeClass('open-map'),setTimeout(function(){fe.removeClass('js-animate')},20),me.addClass('visible'),_=0,setTimeout(function(){google.maps.event.trigger(se,'resize')},500),S?$('html:not(:animated),body:not(:animated)').animate({scrollTop:0+U.outerHeight()},900):$('html:not(:animated),body:not(:animated)').animate({scrollTop:0},900),X.removeClass('fixed'),$('.drag-link').removeClass('fixed')}),$(document).on('click','.js-drag-link.close-map',function(){var fe=$(this),me=$('#infrastructurePanel'),ge=fe.closest('.js-map-wrap');ge.css({left:'50%',marginLeft:L.width()/2}),setTimeout(function(){ge.removeClass('visible')},300),fe.removeClass('close-map').addClass('open-map'),me.removeClass('visible'),_=1,setTimeout(function(){google.maps.event.trigger(se,'resize'),se.setOptions({styles:ae,zoom:13})},500)}),$(document).on('click','.js-change-address-link',function(){var fe=$(this),me=$('#addMapWrap'),ge=me.find('.js-drag-link'),ve=me.find('#infrastructurePanel'),we=me.find('.js-map-panel');me.removeAttr('style'),me.addClass('map-fullscreen').removeClass('to-left'),ge.addClass('display-none'),ve.removeClass('visible'),we.addClass('visible'),setTimeout(function(){google.maps.event.trigger(se,'resize')},500)}),$('label input[type=checkbox]').each(function(){$(this).is(':checked')&&$(this).closest('label').addClass('checked'),$(this).change(function(){$(this).closest('label').toggleClass('checked')})}),$('label input[type=radio]').each(function(){$(this).is(':checked')&&$(this).closest('label').addClass('checked'),$(this).change(function(){var fe=$(this).attr('name');$('label input[name='+fe+']').each(function(){$(this).is(':checked')?$(this).closest('label').addClass('checked'):$(this).closest('label').removeClass('checked')})})}),$('.js-hide-link').on('click',function(){$(this).hide()}),$('.js-profile-top-link').on('click',function(){var fe=$(this),me=fe.attr('data-link'),ge=U.find('.js-tab-wrap');U.is(':visible')?($('body').removeClass('fixed'),U.slideUp(300),$('.js-profile-top-link.active').removeClass('active'),$('html:not(:animated),body:not(:animated)').animate({scrollTop:0},300),$('#cardMapWrap').length&&setTimeout(function(){M.removeClass('not-fixed')},300),setTimeout(function(){S=0},300)):(U.slideDown(300),S=1,U.find('.js-tab-content.current').removeClass('current'),U.find('.js-tab-links .current').removeClass('current'),U.find('.js-tab-content[data-tab='+me+']').addClass('current'),U.find('.js-tab-links a[data-tab='+me+']').addClass('current'),fe.addClass('active'),$('body').addClass('fixed'),$('#cardMapWrap').length&&M.addClass('not-fixed'),setTimeout(function(){google.maps.event.trigger(se,'resize')},500))}),$('.js-profile-top-close-link').on('click',function(){$('body').removeClass('fixed'),U.slideUp(300),S=0,$('.js-profile-top-link.active').removeClass('active'),setTimeout(function(){M.removeClass('not-fixed')},300)});var ne=function(){$(window).one('scroll',function(){var fe=$(this).scrollTop();if(S&&(fe>P.offset().top+35?M.removeClass('not-fixed'):M.addClass('not-fixed')),_&&(S?fe>P.offset().top+35?X.addClass('fixed'):X.removeClass('fixed'):fe>O+35?X.addClass('fixed'):X.removeClass('fixed')),$('.card-stats-wrap').length){var me=$('#cardFixedBlock'),ge=$('#cardModule');fe>$('.card-stats-wrap').offset().top-18&&fe<ge.offset().top+ge.outerHeight()-me.outerHeight()-55?(me.removeClass('absolute').addClass('fixed'),me.css({marginRight:-(L.width()/2-30)})):fe>=ge.offset().top+ge.outerHeight()-me.outerHeight()-55?(me.removeClass('fixed').addClass('absolute'),me.css({marginRight:0})):(me.removeClass('fixed').removeClass('absolute'),me.css({marginRight:0}))}var ve=$('#progressPanel');fe>O?ve.addClass('fixed'):ve.removeClass('fixed'),setTimeout(ne,20)})};ne(),$(document).on('click','.js-slidetoggle-link',function(){var fe=$(this),me=fe.closest('.js-slidetoggle-wrap'),ge=me.find('.js-slidetoggle-list');if(ge.slideToggle(200),fe.toggleClass('active'),fe.closest('.map-hamburger-wrap').length){var ve=fe.closest('#infrastructurePanel'),we=ve.find('.map-action-unit');we.is(':visible')&&(we.slideUp(300),ge.find('.active').removeClass('active'))}}),$(document).on('click','.js-dropdown-link',function(){var fe=$(this),me=fe.closest('.js-dropdown-wrap'),ge=me.find('.js-dropdown-list');ge.slideToggle(200),fe.toggleClass('active')}),$(document).on('click','.js-dropdown-list a',function(){var fe=$(this),me=fe.attr('data-value'),ge=fe.closest('.js-dropdown-list'),ve=ge.find('a.disabled'),we=fe.closest('.js-dropdown-value-wrap'),be=we.find('.js-dropdown-value'),ye=we.find('.js-dropdown-link'),ke=we.find('.js-finance-period-link');be.find('.current').removeClass('current'),be.find('span[data-value='+me+']').addClass('current'),ve.removeClass('disabled'),fe.addClass('disabled'),ge.slideUp(200),ye.removeClass('active'),'month'==me?(ke.addClass('visible'),$('#cardLeftCol').addClass('with-margin')):(ke.removeClass('visible'),$('#cardLeftCol').removeClass('with-margin'))}),$(document).on('click','.js-tab-links a',function(){var fe=$(this),me=fe.attr('data-tab'),ge=fe.closest('.js-tab-wrap');ge.find('.current').removeClass('current'),ge.find('.js-tab-content[data-tab='+me+']').addClass('current'),fe.addClass('current'),'chat'==me?ge.addClass('white'):ge.removeClass('white')}),$('textarea.autosize').autosize(),$(document).on('click','.js-forward-link',function(){var fe=$(this),me=fe.attr('data-screen'),ge=fe.closest('.js-screen-wrap'),ve=fe.closest('.js-screen.screen-center');ge.find('.js-screen[data-screen='+me+']').removeClass('screen-right').addClass('screen-center'),ve.removeClass('screen-center').addClass('screen-left')}),$(document).on('click','.js-back-link',function(){var fe=$(this),me=fe.attr('data-screen'),ge=fe.closest('.js-screen-wrap'),ve=fe.closest('.js-screen.screen-center');ve.removeClass('screen-center').addClass('screen-right'),ge.find('.js-screen[data-screen='+me+']').removeClass('screen-left').addClass('screen-center')}),$(document).on('click','.js-dealtype-link',function(){var fe=$(this),me=fe.closest('.js-dealtype-screen'),ge=me.find('.js-usertype-links-wrap');ge.slideDown(300)}),$(document).on('click','.js-usertype-link',function(){var fe=$(this),me=fe.closest('.js-dealtype-screen'),ge=me.find('.js-select-estate-wrap');ge.slideDown(300)}),$('input[name="dealtypeRadio"]').change(function(){var fe=$(this),me=fe.closest('.js-dealtype-screen'),ge=me.find('.js-select-estate-wrap'),ve=ge.find('h1');$('#dealtypeRent').is(':checked')?ve.addClass('rent-title'):ve.removeClass('rent-title')}),$('.scrollbar-macosx').scrollbar(),$('.scrollbar-outer').scrollbar(),$('.js-popup-delete-user-link').on('click',function(fe){$('#shadowRelative').fadeIn(300),$('.popup-delete-user').fadeIn(300),fe.preventDefault()}),$('.js-popup-delete-group-link').on('click',function(fe){$('#shadowRelative').fadeIn(300),$('.popup-delete-group').fadeIn(300),fe.preventDefault()}),$('.js-popup-clear-history-link').on('click',function(fe){$('#shadowRelative').fadeIn(300),$('.popup-clear-history').fadeIn(300),fe.preventDefault()}),$('.js-popup-add-user-link').on('click',function(fe){$('#shadowRelative').fadeIn(300),$('.popup-add-user').fadeIn(300),fe.preventDefault()}),$('.js-popup-create-group-link').on('click',function(fe){$('#shadowRelative').fadeIn(300),$('.popup-create-group').fadeIn(300),fe.preventDefault()}),$('.js-cancel-link').on('click',function(){var fe=$(this).closest('.js-popup');$('#shadowRelative').fadeOut(300),fe.fadeOut(300)}),$('.js-ok-link').on('click',function(){var fe=$(this).closest('.js-popup');$('#shadowRelative').fadeOut(300),fe.fadeOut(300)}),$('.js-enter-popup-link').on('click',function(fe){$('#shadow').fadeIn(300),$('.js-enter-popup').fadeIn(300),fe.preventDefault()}),$('.js-preview-popup-link').on('click',function(fe){$('#shadow').fadeIn(300),$('.js-preview-popup').addClass('popup-active'),fe.preventDefault()}),$('.popup .close-popup').on('click',function(fe){var me=$(this),ge=me.closest('.popup');ge.hasClass('popup-scale')?ge.removeClass('popup-active'):ge.fadeOut(),$('#shadow').fadeOut(300),fe.preventDefault()}),$(document).on('click',function(fe){$('.js-enter-popup:visible').length&&!($(fe.target).closest('.user-panel').length||$(fe.target).closest('.container').length)&&$('.js-enter-popup .close-popup').click(),$('.js-preview-popup:visible').length&&!($(fe.target).closest('.js-popup-link-wrap').length||$(fe.target).closest('.container').length)&&$('.js-preview-popup .close-popup').click(),$('.popup-delete-user:visible').length&&!($(fe.target).closest('.action-list').length||$(fe.target).closest('.container').length)&&($('.popup-delete-user').fadeOut(300),$('#shadowRelative').fadeOut(300)),$('.popup-clear-history:visible').length&&!($(fe.target).closest('.action-list').length||$(fe.target).closest('.container').length)&&($('.popup-clear-history').fadeOut(300),$('#shadowRelative').fadeOut(300))}),$(document).keyup(function(fe){27==fe.keyCode&&($('.popup .close-popup').click(),$('.popup-delete-user').fadeOut(300),$('.popup-clear-history').fadeOut(300),$('.js-preview-popup').removeClass('popup-active'),$('#shadowRelative').fadeOut(300))}),$(document).on('click','.js-search-msg',function(){var fe=$('#chatModule'),me=fe.find('.js-dialogs-list');$('#chatSearch').focus(),me.hide()}),$(document).on('click','.js-cancel-search-link',function(){var fe=$(this),me=$('#chatModule'),ge=me.find('.js-dialogs-list'),ve=me.find('.js-msg-list');ve.hide(),ge.fadeIn(300)}),$(document).on('click','.js-block-user-link',function(){$(this).toggleClass('blocked')}),$(document).on('click','.js-quit-link',function(){var fe=$(this),me=fe.closest('.js-quit-wrap');me.fadeOut(300)});var le=$('#addFirstStep'),re=le.find('.js-open-panel-link'),de=N.find('.js-map-panel'),ce=$('input#addressTown'),pe=$('input#addressStreet'),ue=$('#progressPanel'),he=$('#addPhotoStep');ce.on('keyup',function(fe){var me=ce.closest('.js-address-screen-wrap'),ge=me.find('.js-address-wrap'),ve=me.find('.js-town-wrap'),we=ge.find('.js-address-final-block'),be=we.find('.entered-town');13==fe.keyCode&&0<$(this).val().length&&(ge.fadeIn(300),ce.blur(),pe.focus(),we.slideDown(300),be.html(ce.val()))}),$(document).on('keyup','input#addressStreet, input#addressLat, input#addressLong',function(){var me=$('input#addressStreet'),ge=$('input#addressLat'),ve=$('input#addressLong'),we=me.closest('.js-address-screen-wrap'),be=we.find('.js-address-wrap'),ye=be.find('.js-address-final-block'),ke=ye.find('.btn-wrap'),Ce=ye.find('.entered-address'),xe=ye.find('.entered-coords');0<me.val().length?(!ke.is(':visible')&&ke.slideDown(300),Ce.html(me.val())):0==me.val().length&&Ce.html(''),0<ge.val().length&&0<ve.val().length?(!ke.is(':visible')&&ke.slideDown(300),xe.html(ge.val()+', '+ve.val())):(0==ge.val().length||0==ve.val().length)&&xe.html('')}),$(document).on('click','#addressCorrectBtn',function(){N.addClass('to-left').removeClass('map-fullscreen'),de.removeClass('visible'),N.find('.js-drag-link').removeClass('display-none').removeClass('close-map').addClass('open-map')}),$(document).on('click','#addressNotCorrectBtn',function(){var fe=$(this),me=fe.closest('.js-address-screen-wrap'),ge=me.find('.report-problem-module'),ve=ge.find('textarea');ge.addClass('visible'),ve.focus()}),$(document).on('click','#reportBackBtn',function(){var fe=$(this),me=fe.closest('.report-problem-module');me.removeClass('visible')}),$(document).on('click','#reportSendBtn',function(){var fe=$(this),me=fe.closest('.report-problem-module');me.removeClass('visible')}),$('.js-final-link').on('click',function(){ue.slideDown(300),T.removeClass('fixed'),$('.temp').removeClass('on'),le.find('.js-screen.screen-center').removeClass('screen-center').addClass('screen-right'),setTimeout(function(){le.find('.js-screen.screen-left').removeClass('screen-left').addClass('screen-center')},10)}),$(document).on('click','.js-type-link',function(){var fe=$(this),me=fe.attr('data-screen'),ge=le.find('.js-screen.screen-center'),ve=le.find('.js-screen.screen-right');le.fadeIn(300),T.addClass('fixed'),setTimeout(function(){$('.temp').addClass('on')},300),ge.attr('data-screen')==me||(ge.removeClass('screen-center').addClass('screen-left'),ve.removeClass('screen-right').addClass('screen-center'))}),$('.hint-wrap').on('mousemove',function(fe){var me=$(this),ge=me.find('.hint'),ve=me.offset().left,we=me.offset().top,be=fe.pageX,ye=fe.pageY;ge.css({top:ye-we+10,left:be-ve+15})}),$('input.separate-three-digits').on('change',function(){var fe=$(this).val();$(this).val(SeparateThreeDigits(fe))}).on('focus',function(){var fe=$(this).val();$(this).val(fe.replace(/\s/g,''))}),editableInput($('.js-editable-input')),$(document).on('click','.js-delete-link',function(){var fe=$(this),me=fe.closest('.js-delete-wrap');me.slideUp(300)}),$(document).on('click','.js-delete-fade-link',function(){var fe=$(this),me=fe.closest('.js-delete-fade-wrap');me.fadeOut(0)}),$(document).on('click','.js-add-feature-link',function(){var fe=$(this),me=fe.closest('.js-add-feature-wrap'),ge=me.find('.js-feature-points-list'),ve=ge.find('.to-clone').clone(!0,!0);ve.removeClass('to-clone display-none'),ve.appendTo(ge),editableInput($('.js-editable-input'))}),$(document).on('click','.js-choose-feature-list a',function(){var fe=$(this),me=fe.closest('.js-add-feature-wrap'),ge=fe.html(),ve=me.find('.js-feature-points-list'),we=ve.find('.to-clone').clone(!0);we.removeClass('to-clone display-none'),we.find('.js-new-feature').html(ge),we.appendTo(ve)}),$('.phone-input').mask('+7 (999) 999 99 99'),$(document).on('click','.map-hamburger-list a',function(){var fe=$(this),me=fe.closest('.map-hamburger-list'),ge=fe.attr('data-show'),ve=$('#infrastructurePanel'),we=ve.find('.map-action-module'),be=we.find('.map-action-unit[data-show= '+ge+']');be.is(':visible')?(optionList.hide(),fe.removeClass('active')):(we.find('.map-action-unit').hide(),me.find('.active').removeClass('active'),be.slideDown(300),fe.addClass('active'))}),$(document).on('click','.map-action-unit .js-close-link',function(){var fe=$(this),me=fe.closest('.map-action-unit'),ge=me.attr('data-show'),ve=$('#infrastructurePanel'),we=ve.find('.map-hamburger-list');me.slideUp(300),we.find('.active').removeClass('active')}),$('.jquery-slider').slider({min:-5,max:5,value:0,step:1}),$(document).on('click','.js-file-upload-link',function(){var fe=$(this),me=fe.closest('.js-file-upload-wrap'),ge=me.find('input[type=file]');ge.click()}),$('.file-upload input[type="file"]').change(function(){var fe=$(this),me=fe.closest('.file-upload-wrap').find('.upload-progress');''==!fe.val()&&(me.hasClass('slide')?me.slideDown('600'):me.fadeTo('600',1))}),$('#sortable').sortable({cursor:'move',handle:'.img-wrap'}),$(document).on('click','.js-photo-close-link',function(){he.fadeOut(300),T.removeClass('fixed'),N.show()}),$(document).on('click','.js-photoedit-action-links a',function(){var fe=$(this),me=fe.closest('.js-photoedit-action-links'),ge=fe.attr('data-action'),ve=$('#photoEditor');ve.find('.js-photoedit-action.current').removeClass('current'),me.find('.current').removeClass('current'),fe.addClass('current'),ve.find('.js-photoedit-action[data-action='+ge+']').addClass('current')}),$(document).on('click','.photo-filters-list a',function(){var fe=$(this),me=fe.closest('.photo-filters-list');me.find('.active').removeClass('active'),fe.addClass('active')}),$('#viewCheckbox').on('change',function(){$('#viewCheckbox').is(':checked')&&console.log('aa')}),$(document).on('click','.setting-links-list a',function(){var fe=$(this),me=fe.attr('data-setting'),ge=fe.closest('.editor-module');ge.find('.current').removeClass('current'),ge.find('.setting-module[data-setting='+me+']').addClass('current'),fe.addClass('current')}),$(document).on('click','.control-btn-wrap .auto-link',function(){var fe=$(this),me=fe.closest('.control-btn-wrap'),ge=me.find('.reset-link');fe.addClass('not-active'),ge.removeClass('not-active')}),$(document).on('click','.control-btn-wrap .reset-link',function(){var fe=$(this),me=fe.closest('.control-btn-wrap'),ge=me.find('.auto-link');fe.addClass('not-active'),ge.removeClass('not-active')}),$('#advancedFilterLink').on('click',function(){var fe=$(this),me=$('.advanced-filter-module');me.slideToggle(300)}),$(document).on('click','.js-search-drag-link.grid-map',function(){var fe=$(this),me=$('#searchModule'),ge=fe.closest('.js-map-wrap'),ve=me.find('.search-items-wrap'),we=me.find('.view-type-wrap'),be=me.find('.sort-type-wrap');we.find('.active').removeClass('active'),we.find('a[data-type="list-type"]').addClass('active'),ge.addClass('visible').css({left:'50%',marginLeft:140,width:0.8*viewportWidth}),me.addClass('list-type').removeClass('grid-type map-type'),fe.removeClass('animated').addClass('list-map').removeClass('grid-map'),setTimeout(function(){be.removeClass('with-icon')},300),setTimeout(function(){google.maps.event.trigger(se,'resize')},500)}),$(document).on('click','.js-search-drag-link.list-map',function(){var fe=$(this),me=$('#searchModule'),ge=fe.closest('.js-map-wrap'),ve=me.find('.search-items-wrap'),we=me.find('.view-type-wrap'),be=me.find('.sort-type-wrap');we.find('.active').removeClass('active'),we.find('a[data-type="map-type"]').addClass('active'),ge.addClass('visible').css({left:'50%',marginLeft:-200,width:0.8*viewportWidth}),me.addClass('map-type').removeClass('grid-type list-type'),fe.removeClass('animated').addClass('map-map').removeClass('list-map'),be.addClass('with-icon'),setTimeout(function(){google.maps.event.trigger(se,'resize')},500)}),$(document).on('click','.js-search-drag-link.map-map',function(){var fe=$(this),me=$('#searchModule'),ge=fe.closest('.js-map-wrap'),ve=me.find('.search-items-wrap'),we=me.find('.view-type-wrap'),be=me.find('.sort-type-wrap');we.find('.active').removeClass('active'),we.find('a[data-type="grid-type"]').addClass('active'),ge.addClass('visible').css({left:'50%',marginLeft:560,width:0.8*viewportWidth}),me.addClass('grid-type').removeClass('map-type list-type'),fe.removeClass('animated').addClass('grid-map').removeClass('map-map'),setTimeout(function(){be.removeClass('with-icon')},200),setTimeout(function(){google.maps.event.trigger(se,'resize')},500)}),$('.view-type-wrap a').on('click',function(){var fe=$(this),me=fe.attr('data-type'),ge=fe.closest('.view-type-wrap');ge.find('.active').removeClass('active'),fe.addClass('active'),'grid-type'==me?($('.js-search-drag-link').removeClass('list-map grid-map').addClass('map-map'),$('.js-search-drag-link.map-map').click()):'list-type'==me?($('.js-search-drag-link').removeClass('list-map map-map').addClass('grid-map'),$('.js-search-drag-link.grid-map').click()):($('.js-search-drag-link').removeClass('map-map grid-map').addClass('list-map'),$('.js-search-drag-link.list-map').click())}),$(document).on('click','.js-preview-link',function(){var fe=$(this),me=fe.closest('.js-preview-wrap'),ge=me.find('.js-preview-block');ge.hasClass('visible')?ge.removeClass('visible'):($('.js-preview-wrap .js-preview-block.visible').length&&$('.js-preview-wrap .js-preview-block.visible').removeClass('visible'),ge.addClass('visible'))}),$(document).click(function(fe){$('.js-preview-wrap .js-preview-block.visible').length&&!$(fe.target).closest('.js-preview-wrap').length&&$('.js-preview-wrap .js-preview-block').removeClass('visible')}),$(document).keyup(function(fe){27==fe.keyCode&&$('.js-preview-wrap .js-preview-block').removeClass('visible')}),$(document).on('click','.js-preview-wrap .js-close-link',function(){var fe=$(this),me=fe.closest('.js-preview-wrap'),ge=me.find('.js-preview-block');ge.removeClass('visible')}),$(document).on('click','.js-new-folder-link',function(){var fe=$(this),me=fe.closest('.js-new-folder-wrap'),ge=me.find('.js-new-folder-block');fe.hide(),ge.fadeIn(300)}),$(document).on('click','.js-object-details-link',function(){var fe=$(this),me=fe.closest('.js-object-details-wrap');photoCount=fe.closest('.js-preview-popup').find('.js-preview-photo-count'),me.toggleClass('visible'),photoCount.toggleClass('is-hidden'),fe.find('.show-more-link').toggleClass('active')}),$(document).on('click','.js-dashboard-link',function(){var fe=$(this),me=fe.attr('data-value'),ge=fe.closest('.js-dashboard'),ve=ge.find('.js-dashboard-panel'),we=$('#previewMap'),be=fe.closest('.js-dashboard-panel-wrap'),ye=be.find('.roller');'map'==me?we.addClass('open'):we.removeClass('open'),ve.find('.js-dashboard-link.current').removeClass('current'),fe.addClass('current');var ke=fe.offset().left-be.offset().left,Ce=fe.outerWidth();ge.find('.js-dashboard-content.current').removeClass('current'),ge.find('.js-dashboard-content[data-value='+me+']').addClass('current'),ye.width(Ce),ye.animate({left:ke},200)}),$(document).on('click','.js-dashboard-content .js-submit-btn',function(){var fe=$(this),me=fe.closest('.js-dashboard-content'),ge=me.find('.js-fav-list'),ve=ge.find('input[type=checkbox]:checked'),we=ve.closest('label'),be=me.find('.js-with-textarea-wrap'),ye=be.find('.js-with-textarea');ve.removeAttr('checked'),we.removeClass('checked'),ye.hide()}),$(document).on('click','.js-send-email-link',function(){var fe=$(this),me=fe.closest('.js-send-email-wrap'),ge=me.find('.js-send-email-block');fe.hide(),ge.fadeIn(300)}),$(document).on('click','.js-send-email-return-link',function(){var fe=$(this),me=fe.closest('.js-send-email-wrap'),ge=me.find('.js-send-email-block'),ve=me.find('.js-send-email-link');ge.hide(),ve.fadeIn(300)}),$(document).on('click','.js-after-btn',function(){var fe=$(this),me=fe.closest('.js-after-btn-wrap'),ge=me.find('.js-after-btn-text');fe.hide(),ge.fadeIn().delay(2400).fadeOut(),setTimeout(function(){fe.fadeIn()},3e3)}),$('.js-fav-list label input[type="checkbox"]').on('change',function(){var fe=$(this),me=fe.closest('label'),ge=me.find('.saved'),ve=me.find('.deleted');fe.is(':checked')?(ge.fadeIn().delay(400).fadeOut(),fe.hasClass('fav-checkbox')&&$('.js-fav-module').find('.saved-to-fav').addClass('active')):(ve.fadeIn().delay(400).fadeOut(),fe.hasClass('fav-checkbox')&&$('.js-fav-module').find('.saved-to-fav').removeClass('active'))}),$('label.js-with-textarea-label input[type="checkbox"]').on('change',function(){var fe=$(this),me=fe.closest('.js-with-textarea-wrap'),ge=me.find('.js-with-textarea'),ve=$('label.js-with-textarea-label input[type="checkbox"]:checked').length;0<ve?ge.fadeIn(100):0===ve&&ge.hide()}),$(document).on('click','a.disabled',function(fe){fe.preventDefault()}),$(document).on('click','a[href=#]',function(fe){fe.preventDefault()})}),$(window).resize(function(){viewportHeight=document.documentElement.clientHeight,viewportWidth=document.documentElement.clientWidth;var _=$('.wrapper'),S=$('header'),T=S.outerHeight(),P=$('.content'),O=$('#cardModule'),L=$('#cardMapWrap'),W=$('#addMapWrap'),M=$('.inner'),N=$('#profileTop'),R=N.outerHeight(),U=$('#cardTitle');N.height(viewportHeight-T-100);var V=$('#photoSlider'),X=V.height();V.width(1.3*X),O.length&&O.css({minHeight:O.find('.card-left').outerHeight()})});function SeparateThreeDigits(_){return _.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,'$1 ')}var editableInput=function(_){_.each(function(){var S=$(this),T=S.closest('label');S.on('focus',function(){T.removeClass('with-value')}).on('blur',function(){''==!S.val()?T.addClass('with-value'):T.removeClass('with-value')}).on('keyup',function(P){13==P.keyCode&&(''==!S.val()?(T.addClass('with-value'),S.blur()):(T.removeClass('with-value'),S.blur()))})})};!function(_){'use strict';'function'==typeof define&&define.amd?define(['jquery'],_):'undefined'==typeof exports?_(jQuery):module.exports=_(require('jquery'))}(function(_){'use strict';var S=window.Slick||{};S=function(){var P=0;return function(O,L){var W,M=this;M.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:_(O),appendDots:_(O),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:'50px',cssEase:'ease',customPaging:function(N,R){return'<button type="button" data-role="none" role="button" aria-required="false" tabindex="0">'+(R+1)+'</button>'},dots:!1,dotsClass:'slick-dots',draggable:!0,easing:'linear',edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:'ondemand',mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:'window',responsive:null,rows:1,rtl:!1,slide:'',slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!1,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},M.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},_.extend(M,M.initials),M.activeBreakpoint=null,M.animType=null,M.animProp=null,M.breakpoints=[],M.breakpointSettings=[],M.cssTransitions=!1,M.hidden='hidden',M.paused=!1,M.positionProp=null,M.respondTo=null,M.rowCount=1,M.shouldClick=!0,M.$slider=_(O),M.$slidesCache=null,M.transformType=null,M.transitionType=null,M.visibilityChange='visibilitychange',M.windowWidth=0,M.windowTimer=null,W=_(O).data('slick')||{},M.options=_.extend({},M.defaults,W,L),M.currentSlide=M.options.initialSlide,M.originalSettings=M.options,'undefined'==typeof document.mozHidden?'undefined'!=typeof document.webkitHidden&&(M.hidden='webkitHidden',M.visibilityChange='webkitvisibilitychange'):(M.hidden='mozHidden',M.visibilityChange='mozvisibilitychange'),M.autoPlay=_.proxy(M.autoPlay,M),M.autoPlayClear=_.proxy(M.autoPlayClear,M),M.changeSlide=_.proxy(M.changeSlide,M),M.clickHandler=_.proxy(M.clickHandler,M),M.selectHandler=_.proxy(M.selectHandler,M),M.setPosition=_.proxy(M.setPosition,M),M.swipeHandler=_.proxy(M.swipeHandler,M),M.dragHandler=_.proxy(M.dragHandler,M),M.keyHandler=_.proxy(M.keyHandler,M),M.autoPlayIterator=_.proxy(M.autoPlayIterator,M),M.instanceUid=P++,M.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,M.registerBreakpoints(),M.init(!0),M.checkResponsive(!0)}}(),S.prototype.addSlide=S.prototype.slickAdd=function(T,P,O){var L=this;if('boolean'==typeof P)O=P,P=null;else if(0>P||P>=L.slideCount)return!1;L.unload(),'number'==typeof P?0===P&&0===L.$slides.length?_(T).appendTo(L.$slideTrack):O?_(T).insertBefore(L.$slides.eq(P)):_(T).insertAfter(L.$slides.eq(P)):!0===O?_(T).prependTo(L.$slideTrack):_(T).appendTo(L.$slideTrack),L.$slides=L.$slideTrack.children(this.options.slide),L.$slideTrack.children(this.options.slide).detach(),L.$slideTrack.append(L.$slides),L.$slides.each(function(W,M){_(M).attr('data-slick-index',W)}),L.$slidesCache=L.$slides,L.reinit()},S.prototype.animateHeight=function(){var T=this;if(1===T.options.slidesToShow&&!0===T.options.adaptiveHeight&&!1===T.options.vertical){var P=T.$slides.eq(T.currentSlide).outerHeight(!0);T.$list.animate({height:P},T.options.speed)}},S.prototype.animateSlide=function(T,P){var O={},L=this;L.animateHeight(),!0===L.options.rtl&&!1===L.options.vertical&&(T=-T),!1===L.transformsEnabled?!1===L.options.vertical?L.$slideTrack.animate({left:T},L.options.speed,L.options.easing,P):L.$slideTrack.animate({top:T},L.options.speed,L.options.easing,P):!1===L.cssTransitions?(!0===L.options.rtl&&(L.currentLeft=-L.currentLeft),_({animStart:L.currentLeft}).animate({animStart:T},{duration:L.options.speed,easing:L.options.easing,step:function(W){W=Math.ceil(W),!1===L.options.vertical?(O[L.animType]='translate('+W+'px, 0px)',L.$slideTrack.css(O)):(O[L.animType]='translate(0px,'+W+'px)',L.$slideTrack.css(O))},complete:function(){P&&P.call()}})):(L.applyTransition(),T=Math.ceil(T),O[L.animType]=!1===L.options.vertical?'translate3d('+T+'px, 0px, 0px)':'translate3d(0px,'+T+'px, 0px)',L.$slideTrack.css(O),P&&setTimeout(function(){L.disableTransition(),P.call()},L.options.speed))},S.prototype.asNavFor=function(T){var P=this,O=P.options.asNavFor;O&&null!==O&&(O=_(O).not(P.$slider)),null!==O&&'object'==typeof O&&O.each(function(){var L=_(this).slick('getSlick');L.unslicked||L.slideHandler(T,!0)})},S.prototype.applyTransition=function(T){var P=this,O={};O[P.transitionType]=!1===P.options.fade?P.transformType+' '+P.options.speed+'ms '+P.options.cssEase:'opacity '+P.options.speed+'ms '+P.options.cssEase,!1===P.options.fade?P.$slideTrack.css(O):P.$slides.eq(T).css(O)},S.prototype.autoPlay=function(){var T=this;T.autoPlayTimer&&clearInterval(T.autoPlayTimer),T.slideCount>T.options.slidesToShow&&!0!==T.paused&&(T.autoPlayTimer=setInterval(T.autoPlayIterator,T.options.autoplaySpeed))},S.prototype.autoPlayClear=function(){var T=this;T.autoPlayTimer&&clearInterval(T.autoPlayTimer)},S.prototype.autoPlayIterator=function(){var T=this;!1===T.options.infinite?1===T.direction?(T.currentSlide+1===T.slideCount-1&&(T.direction=0),T.slideHandler(T.currentSlide+T.options.slidesToScroll)):(0==T.currentSlide-1&&(T.direction=1),T.slideHandler(T.currentSlide-T.options.slidesToScroll)):T.slideHandler(T.currentSlide+T.options.slidesToScroll)},S.prototype.buildArrows=function(){var T=this;!0===T.options.arrows&&(T.$prevArrow=_(T.options.prevArrow).addClass('slick-arrow'),T.$nextArrow=_(T.options.nextArrow).addClass('slick-arrow'),T.slideCount>T.options.slidesToShow?(T.$prevArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex'),T.$nextArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex'),T.htmlExpr.test(T.options.prevArrow)&&T.$prevArrow.prependTo(T.options.appendArrows),T.htmlExpr.test(T.options.nextArrow)&&T.$nextArrow.appendTo(T.options.appendArrows),!0!==T.options.infinite&&T.$prevArrow.addClass('slick-disabled').attr('aria-disabled','true')):T.$prevArrow.add(T.$nextArrow).addClass('slick-hidden').attr({'aria-disabled':'true',tabindex:'-1'}))},S.prototype.buildDots=function(){var T,P,O=this;if(!0===O.options.dots&&O.slideCount>O.options.slidesToShow){for(P='<ul class="'+O.options.dotsClass+'">',T=0;T<=O.getDotCount();T+=1)P+='<li>'+O.options.customPaging.call(this,O,T)+'</li>';P+='</ul>',O.$dots=_(P).appendTo(O.options.appendDots),O.$dots.find('li').first().addClass('slick-active').attr('aria-hidden','false')}},S.prototype.buildOut=function(){var T=this;T.$slides=T.$slider.children(T.options.slide+':not(.slick-cloned)').addClass('slick-slide'),T.slideCount=T.$slides.length,T.$slides.each(function(P,O){_(O).attr('data-slick-index',P).data('originalStyling',_(O).attr('style')||'')}),T.$slider.addClass('slick-slider'),T.$slideTrack=0===T.slideCount?_('<div class="slick-track"/>').appendTo(T.$slider):T.$slides.wrapAll('<div class="slick-track"/>').parent(),T.$list=T.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),T.$slideTrack.css('opacity',0),(!0===T.options.centerMode||!0===T.options.swipeToSlide)&&(T.options.slidesToScroll=1),_('img[data-lazy]',T.$slider).not('[src]').addClass('slick-loading'),T.setupInfinite(),T.buildArrows(),T.buildDots(),T.updateDots(),T.setSlideClasses('number'==typeof T.currentSlide?T.currentSlide:0),!0===T.options.draggable&&T.$list.addClass('draggable')},S.prototype.buildRows=function(){var T,P,O,L,W,M,N,R=this;if(L=document.createDocumentFragment(),M=R.$slider.children(),1<R.options.rows){for(N=R.options.slidesPerRow*R.options.rows,W=Math.ceil(M.length/N),T=0;W>T;T++){var U=document.createElement('div');for(P=0;P<R.options.rows;P++){var V=document.createElement('div');for(O=0;O<R.options.slidesPerRow;O++){var X=T*N+(P*R.options.slidesPerRow+O);M.get(X)&&V.appendChild(M.get(X))}U.appendChild(V)}L.appendChild(U)}R.$slider.html(L),R.$slider.children().children().children().css({width:100/R.options.slidesPerRow+'%',display:'inline-block'})}},S.prototype.checkResponsive=function(T,P){var O,L,W,M=this,N=!1,R=M.$slider.width(),U=window.innerWidth||_(window).width();if('window'===M.respondTo?W=U:'slider'===M.respondTo?W=R:'min'===M.respondTo&&(W=Math.min(U,R)),M.options.responsive&&M.options.responsive.length&&null!==M.options.responsive){for(O in L=null,M.breakpoints)M.breakpoints.hasOwnProperty(O)&&(!1===M.originalSettings.mobileFirst?W<M.breakpoints[O]&&(L=M.breakpoints[O]):W>M.breakpoints[O]&&(L=M.breakpoints[O]));null===L?null!==M.activeBreakpoint&&(M.activeBreakpoint=null,M.options=M.originalSettings,!0===T&&(M.currentSlide=M.options.initialSlide),M.refresh(T),N=L):null===M.activeBreakpoint?(M.activeBreakpoint=L,'unslick'===M.breakpointSettings[L]?M.unslick(L):(M.options=_.extend({},M.originalSettings,M.breakpointSettings[L]),!0===T&&(M.currentSlide=M.options.initialSlide),M.refresh(T)),N=L):(L!==M.activeBreakpoint||P)&&(M.activeBreakpoint=L,'unslick'===M.breakpointSettings[L]?M.unslick(L):(M.options=_.extend({},M.originalSettings,M.breakpointSettings[L]),!0===T&&(M.currentSlide=M.options.initialSlide),M.refresh(T)),N=L),T||!1===N||M.$slider.trigger('breakpoint',[M,N])}},S.prototype.changeSlide=function(T,P){var O,L,W,M=this,N=_(T.target);switch(N.is('a')&&T.preventDefault(),N.is('li')||(N=N.closest('li')),W=0!=M.slideCount%M.options.slidesToScroll,O=W?0:(M.slideCount-M.currentSlide)%M.options.slidesToScroll,T.data.message){case'previous':L=0===O?M.options.slidesToScroll:M.options.slidesToShow-O,M.slideCount>M.options.slidesToShow&&M.slideHandler(M.currentSlide-L,!1,P);break;case'next':L=0===O?M.options.slidesToScroll:O,M.slideCount>M.options.slidesToShow&&M.slideHandler(M.currentSlide+L,!1,P);break;case'index':var R=0===T.data.index?0:T.data.index||N.index()*M.options.slidesToScroll;M.slideHandler(M.checkNavigable(R),!1,P),N.children().trigger('focus');break;default:}},S.prototype.checkNavigable=function(T){var P,O,L=this;if(P=L.getNavigableIndexes(),O=0,T>P[P.length-1])T=P[P.length-1];else for(var W in P){if(T<P[W]){T=O;break}O=P[W]}return T},S.prototype.cleanUpEvents=function(){var T=this;T.options.dots&&null!==T.$dots&&(_('li',T.$dots).off('click.slick',T.changeSlide),!0===T.options.pauseOnDotsHover&&!0===T.options.autoplay&&_('li',T.$dots).off('mouseenter.slick',_.proxy(T.setPaused,T,!0)).off('mouseleave.slick',_.proxy(T.setPaused,T,!1))),!0===T.options.arrows&&T.slideCount>T.options.slidesToShow&&(T.$prevArrow&&T.$prevArrow.off('click.slick',T.changeSlide),T.$nextArrow&&T.$nextArrow.off('click.slick',T.changeSlide)),T.$list.off('touchstart.slick mousedown.slick',T.swipeHandler),T.$list.off('touchmove.slick mousemove.slick',T.swipeHandler),T.$list.off('touchend.slick mouseup.slick',T.swipeHandler),T.$list.off('touchcancel.slick mouseleave.slick',T.swipeHandler),T.$list.off('click.slick',T.clickHandler),_(document).off(T.visibilityChange,T.visibility),T.$list.off('mouseenter.slick',_.proxy(T.setPaused,T,!0)),T.$list.off('mouseleave.slick',_.proxy(T.setPaused,T,!1)),!0===T.options.accessibility&&T.$list.off('keydown.slick',T.keyHandler),!0===T.options.focusOnSelect&&_(T.$slideTrack).children().off('click.slick',T.selectHandler),_(window).off('orientationchange.slick.slick-'+T.instanceUid,T.orientationChange),_(window).off('resize.slick.slick-'+T.instanceUid,T.resize),_('[draggable!=true]',T.$slideTrack).off('dragstart',T.preventDefault),_(window).off('load.slick.slick-'+T.instanceUid,T.setPosition),_(document).off('ready.slick.slick-'+T.instanceUid,T.setPosition)},S.prototype.cleanUpRows=function(){var T,P=this;1<P.options.rows&&(T=P.$slides.children().children(),T.removeAttr('style'),P.$slider.html(T))},S.prototype.clickHandler=function(T){var P=this;!1===P.shouldClick&&(T.stopImmediatePropagation(),T.stopPropagation(),T.preventDefault())},S.prototype.destroy=function(T){var P=this;P.autoPlayClear(),P.touchObject={},P.cleanUpEvents(),_('.slick-cloned',P.$slider).detach(),P.$dots&&P.$dots.remove(),P.$prevArrow&&P.$prevArrow.length&&(P.$prevArrow.removeClass('slick-disabled slick-arrow slick-hidden').removeAttr('aria-hidden aria-disabled tabindex').css('display',''),P.htmlExpr.test(P.options.prevArrow)&&P.$prevArrow.remove()),P.$nextArrow&&P.$nextArrow.length&&(P.$nextArrow.removeClass('slick-disabled slick-arrow slick-hidden').removeAttr('aria-hidden aria-disabled tabindex').css('display',''),P.htmlExpr.test(P.options.nextArrow)&&P.$nextArrow.remove()),P.$slides&&(P.$slides.removeClass('slick-slide slick-active slick-center slick-visible slick-current').removeAttr('aria-hidden').removeAttr('data-slick-index').each(function(){_(this).attr('style',_(this).data('originalStyling'))}),P.$slideTrack.children(this.options.slide).detach(),P.$slideTrack.detach(),P.$list.detach(),P.$slider.append(P.$slides)),P.cleanUpRows(),P.$slider.removeClass('slick-slider'),P.$slider.removeClass('slick-initialized'),P.unslicked=!0,T||P.$slider.trigger('destroy',[P])},S.prototype.disableTransition=function(T){var P=this,O={};O[P.transitionType]='',!1===P.options.fade?P.$slideTrack.css(O):P.$slides.eq(T).css(O)},S.prototype.fadeSlide=function(T,P){var O=this;!1===O.cssTransitions?(O.$slides.eq(T).css({zIndex:O.options.zIndex}),O.$slides.eq(T).animate({opacity:1},O.options.speed,O.options.easing,P)):(O.applyTransition(T),O.$slides.eq(T).css({opacity:1,zIndex:O.options.zIndex}),P&&setTimeout(function(){O.disableTransition(T),P.call()},O.options.speed))},S.prototype.fadeSlideOut=function(T){var P=this;!1===P.cssTransitions?P.$slides.eq(T).animate({opacity:0,zIndex:P.options.zIndex-2},P.options.speed,P.options.easing):(P.applyTransition(T),P.$slides.eq(T).css({opacity:0,zIndex:P.options.zIndex-2}))},S.prototype.filterSlides=S.prototype.slickFilter=function(T){var P=this;null!==T&&(P.$slidesCache=P.$slides,P.unload(),P.$slideTrack.children(this.options.slide).detach(),P.$slidesCache.filter(T).appendTo(P.$slideTrack),P.reinit())},S.prototype.getCurrent=S.prototype.slickCurrentSlide=function(){var T=this;return T.currentSlide},S.prototype.getDotCount=function(){var T=this,P=0,O=0,L=0;if(!0===T.options.infinite)for(;P<T.slideCount;)++L,P=O+T.options.slidesToScroll,O+=T.options.slidesToScroll<=T.options.slidesToShow?T.options.slidesToScroll:T.options.slidesToShow;else if(!0===T.options.centerMode)L=T.slideCount;else for(;P<T.slideCount;)++L,P=O+T.options.slidesToScroll,O+=T.options.slidesToScroll<=T.options.slidesToShow?T.options.slidesToScroll:T.options.slidesToShow;return L-1},S.prototype.getLeft=function(T){var P,O,L,W=this,M=0;return W.slideOffset=0,O=W.$slides.first().outerHeight(!0),!0===W.options.infinite?(W.slideCount>W.options.slidesToShow&&(W.slideOffset=-1*(W.slideWidth*W.options.slidesToShow),M=-1*(O*W.options.slidesToShow)),0!=W.slideCount%W.options.slidesToScroll&&T+W.options.slidesToScroll>W.slideCount&&W.slideCount>W.options.slidesToShow&&(T>W.slideCount?(W.slideOffset=-1*((W.options.slidesToShow-(T-W.slideCount))*W.slideWidth),M=-1*((W.options.slidesToShow-(T-W.slideCount))*O)):(W.slideOffset=-1*(W.slideCount%W.options.slidesToScroll*W.slideWidth),M=-1*(W.slideCount%W.options.slidesToScroll*O)))):T+W.options.slidesToShow>W.slideCount&&(W.slideOffset=(T+W.options.slidesToShow-W.slideCount)*W.slideWidth,M=(T+W.options.slidesToShow-W.slideCount)*O),W.slideCount<=W.options.slidesToShow&&(W.slideOffset=0,M=0),!0===W.options.centerMode&&!0===W.options.infinite?W.slideOffset+=W.slideWidth*Math.floor(W.options.slidesToShow/2)-W.slideWidth:!0===W.options.centerMode&&(W.slideOffset=0,W.slideOffset+=W.slideWidth*Math.floor(W.options.slidesToShow/2)),P=!1===W.options.vertical?-1*(T*W.slideWidth)+W.slideOffset:-1*(T*O)+M,!0===W.options.variableWidth&&(L=W.slideCount<=W.options.slidesToShow||!1===W.options.infinite?W.$slideTrack.children('.slick-slide').eq(T):W.$slideTrack.children('.slick-slide').eq(T+W.options.slidesToShow),P=!0===W.options.rtl?L[0]?-1*(W.$slideTrack.width()-L[0].offsetLeft-L.width()):0:L[0]?-1*L[0].offsetLeft:0,!0===W.options.centerMode&&(L=W.slideCount<=W.options.slidesToShow||!1===W.options.infinite?W.$slideTrack.children('.slick-slide').eq(T):W.$slideTrack.children('.slick-slide').eq(T+W.options.slidesToShow+1),P=!0===W.options.rtl?L[0]?-1*(W.$slideTrack.width()-L[0].offsetLeft-L.width()):0:L[0]?-1*L[0].offsetLeft:0,P+=(W.$list.width()-L.outerWidth())/2)),P},S.prototype.getOption=S.prototype.slickGetOption=function(T){var P=this;return P.options[T]},S.prototype.getNavigableIndexes=function(){var T,P=this,O=0,L=0,W=[];for(!1===P.options.infinite?T=P.slideCount:(O=-1*P.options.slidesToScroll,L=-1*P.options.slidesToScroll,T=2*P.slideCount);T>O;)W.push(O),O=L+P.options.slidesToScroll,L+=P.options.slidesToScroll<=P.options.slidesToShow?P.options.slidesToScroll:P.options.slidesToShow;return W},S.prototype.getSlick=function(){return this},S.prototype.getSlideCount=function(){var T,P,O,L=this;return O=!0===L.options.centerMode?L.slideWidth*Math.floor(L.options.slidesToShow/2):0,!0===L.options.swipeToSlide?(L.$slideTrack.find('.slick-slide').each(function(W,M){return M.offsetLeft-O+_(M).outerWidth()/2>-1*L.swipeLeft?(P=M,!1):void 0}),T=Math.abs(_(P).attr('data-slick-index')-L.currentSlide)||1):L.options.slidesToScroll},S.prototype.goTo=S.prototype.slickGoTo=function(T,P){var O=this;O.changeSlide({data:{message:'index',index:parseInt(T)}},P)},S.prototype.init=function(T){var P=this;_(P.$slider).hasClass('slick-initialized')||(_(P.$slider).addClass('slick-initialized'),P.buildRows(),P.buildOut(),P.setProps(),P.startLoad(),P.loadSlider(),P.initializeEvents(),P.updateArrows(),P.updateDots()),T&&P.$slider.trigger('init',[P]),!0===P.options.accessibility&&P.initADA()},S.prototype.initArrowEvents=function(){var T=this;!0===T.options.arrows&&T.slideCount>T.options.slidesToShow&&(T.$prevArrow.on('click.slick',{message:'previous'},T.changeSlide),T.$nextArrow.on('click.slick',{message:'next'},T.changeSlide))},S.prototype.initDotEvents=function(){var T=this;!0===T.options.dots&&T.slideCount>T.options.slidesToShow&&_('li',T.$dots).on('click.slick',{message:'index'},T.changeSlide),!0===T.options.dots&&!0===T.options.pauseOnDotsHover&&!0===T.options.autoplay&&_('li',T.$dots).on('mouseenter.slick',_.proxy(T.setPaused,T,!0)).on('mouseleave.slick',_.proxy(T.setPaused,T,!1))},S.prototype.initializeEvents=function(){var T=this;T.initArrowEvents(),T.initDotEvents(),T.$list.on('touchstart.slick mousedown.slick',{action:'start'},T.swipeHandler),T.$list.on('touchmove.slick mousemove.slick',{action:'move'},T.swipeHandler),T.$list.on('touchend.slick mouseup.slick',{action:'end'},T.swipeHandler),T.$list.on('touchcancel.slick mouseleave.slick',{action:'end'},T.swipeHandler),T.$list.on('click.slick',T.clickHandler),_(document).on(T.visibilityChange,_.proxy(T.visibility,T)),T.$list.on('mouseenter.slick',_.proxy(T.setPaused,T,!0)),T.$list.on('mouseleave.slick',_.proxy(T.setPaused,T,!1)),!0===T.options.accessibility&&T.$list.on('keydown.slick',T.keyHandler),!0===T.options.focusOnSelect&&_(T.$slideTrack).children().on('click.slick',T.selectHandler),_(window).on('orientationchange.slick.slick-'+T.instanceUid,_.proxy(T.orientationChange,T)),_(window).on('resize.slick.slick-'+T.instanceUid,_.proxy(T.resize,T)),_('[draggable!=true]',T.$slideTrack).on('dragstart',T.preventDefault),_(window).on('load.slick.slick-'+T.instanceUid,T.setPosition),_(document).on('ready.slick.slick-'+T.instanceUid,T.setPosition)},S.prototype.initUI=function(){var T=this;!0===T.options.arrows&&T.slideCount>T.options.slidesToShow&&(T.$prevArrow.show(),T.$nextArrow.show()),!0===T.options.dots&&T.slideCount>T.options.slidesToShow&&T.$dots.show(),!0===T.options.autoplay&&T.autoPlay()},S.prototype.keyHandler=function(T){var P=this;T.target.tagName.match('TEXTAREA|INPUT|SELECT')||(37===T.keyCode&&!0===P.options.accessibility?P.changeSlide({data:{message:'previous'}}):39===T.keyCode&&!0===P.options.accessibility&&P.changeSlide({data:{message:'next'}}))},S.prototype.lazyLoad=function(){function T(N){_('img[data-lazy]',N).each(function(){var R=_(this),U=_(this).attr('data-lazy'),V=document.createElement('img');V.onload=function(){R.animate({opacity:0},100,function(){R.attr('src',U).animate({opacity:1},200,function(){R.removeAttr('data-lazy').removeClass('slick-loading')})})},V.src=U})}var P,O,L,W,M=this;!0===M.options.centerMode?!0===M.options.infinite?(L=M.currentSlide+(M.options.slidesToShow/2+1),W=L+M.options.slidesToShow+2):(L=Math.max(0,M.currentSlide-(M.options.slidesToShow/2+1)),W=2+(M.options.slidesToShow/2+1)+M.currentSlide):(L=M.options.infinite?M.options.slidesToShow+M.currentSlide:M.currentSlide,W=L+M.options.slidesToShow,!0===M.options.fade&&(0<L&&L--,W<=M.slideCount&&W++)),P=M.$slider.find('.slick-slide').slice(L,W),T(P),M.slideCount<=M.options.slidesToShow?(O=M.$slider.find('.slick-slide'),T(O)):M.currentSlide>=M.slideCount-M.options.slidesToShow?(O=M.$slider.find('.slick-cloned').slice(0,M.options.slidesToShow),T(O)):0===M.currentSlide&&(O=M.$slider.find('.slick-cloned').slice(-1*M.options.slidesToShow),T(O))},S.prototype.loadSlider=function(){var T=this;T.setPosition(),T.$slideTrack.css({opacity:1}),T.$slider.removeClass('slick-loading'),T.initUI(),'progressive'===T.options.lazyLoad&&T.progressiveLazyLoad()},S.prototype.next=S.prototype.slickNext=function(){var T=this;T.changeSlide({data:{message:'next'}})},S.prototype.orientationChange=function(){var T=this;T.checkResponsive(),T.setPosition()},S.prototype.pause=S.prototype.slickPause=function(){var T=this;T.autoPlayClear(),T.paused=!0},S.prototype.play=S.prototype.slickPlay=function(){var T=this;T.paused=!1,T.autoPlay()},S.prototype.postSlide=function(T){var P=this;P.$slider.trigger('afterChange',[P,T]),P.animating=!1,P.setPosition(),P.swipeLeft=null,!0===P.options.autoplay&&!1===P.paused&&P.autoPlay(),!0===P.options.accessibility&&P.initADA()},S.prototype.prev=S.prototype.slickPrev=function(){var T=this;T.changeSlide({data:{message:'previous'}})},S.prototype.preventDefault=function(T){T.preventDefault()},S.prototype.progressiveLazyLoad=function(){var T,P,O=this;T=_('img[data-lazy]',O.$slider).length,0<T&&(P=_('img[data-lazy]',O.$slider).first(),P.attr('src',null),P.attr('src',P.attr('data-lazy')).removeClass('slick-loading').load(function(){P.removeAttr('data-lazy'),O.progressiveLazyLoad(),!0===O.options.adaptiveHeight&&O.setPosition()}).error(function(){P.removeAttr('data-lazy'),O.progressiveLazyLoad()}))},S.prototype.refresh=function(T){var P,O,L=this;O=L.slideCount-L.options.slidesToShow,L.options.infinite||(L.slideCount<=L.options.slidesToShow?L.currentSlide=0:L.currentSlide>O&&(L.currentSlide=O)),P=L.currentSlide,L.destroy(!0),_.extend(L,L.initials,{currentSlide:P}),L.init(),T||L.changeSlide({data:{message:'index',index:P}},!1)},S.prototype.registerBreakpoints=function(){var T,P,O,L=this,W=L.options.responsive||null;if('array'===_.type(W)&&W.length){for(T in L.respondTo=L.options.respondTo||'window',W)if(O=L.breakpoints.length-1,P=W[T].breakpoint,W.hasOwnProperty(T)){for(;0<=O;)L.breakpoints[O]&&L.breakpoints[O]===P&&L.breakpoints.splice(O,1),O--;L.breakpoints.push(P),L.breakpointSettings[P]=W[T].settings}L.breakpoints.sort(function(M,N){return L.options.mobileFirst?M-N:N-M})}},S.prototype.reinit=function(){var T=this;T.$slides=T.$slideTrack.children(T.options.slide).addClass('slick-slide'),T.slideCount=T.$slides.length,T.currentSlide>=T.slideCount&&0!==T.currentSlide&&(T.currentSlide-=T.options.slidesToScroll),T.slideCount<=T.options.slidesToShow&&(T.currentSlide=0),T.registerBreakpoints(),T.setProps(),T.setupInfinite(),T.buildArrows(),T.updateArrows(),T.initArrowEvents(),T.buildDots(),T.updateDots(),T.initDotEvents(),T.checkResponsive(!1,!0),!0===T.options.focusOnSelect&&_(T.$slideTrack).children().on('click.slick',T.selectHandler),T.setSlideClasses(0),T.setPosition(),T.$slider.trigger('reInit',[T]),!0===T.options.autoplay&&T.focusHandler()},S.prototype.resize=function(){var T=this;_(window).width()!==T.windowWidth&&(clearTimeout(T.windowDelay),T.windowDelay=window.setTimeout(function(){T.windowWidth=_(window).width(),T.checkResponsive(),T.unslicked||T.setPosition()},50))},S.prototype.removeSlide=S.prototype.slickRemove=function(T,P,O){var L=this;return'boolean'==typeof T?(P=T,T=!0===P?0:L.slideCount-1):T=!0===P?--T:T,1>L.slideCount||0>T||T>L.slideCount-1?!1:(L.unload(),!0===O?L.$slideTrack.children().remove():L.$slideTrack.children(this.options.slide).eq(T).remove(),L.$slides=L.$slideTrack.children(this.options.slide),L.$slideTrack.children(this.options.slide).detach(),L.$slideTrack.append(L.$slides),L.$slidesCache=L.$slides,void L.reinit())},S.prototype.setCSS=function(T){var P,O,L=this,W={};!0===L.options.rtl&&(T=-T),P='left'==L.positionProp?Math.ceil(T)+'px':'0px',O='top'==L.positionProp?Math.ceil(T)+'px':'0px',W[L.positionProp]=T,!1===L.transformsEnabled?L.$slideTrack.css(W):(W={},!1===L.cssTransitions?(W[L.animType]='translate('+P+', '+O+')',L.$slideTrack.css(W)):(W[L.animType]='translate3d('+P+', '+O+', 0px)',L.$slideTrack.css(W)))},S.prototype.setDimensions=function(){var T=this;!1===T.options.vertical?!0===T.options.centerMode&&T.$list.css({padding:'0px '+T.options.centerPadding}):(T.$list.height(T.$slides.first().outerHeight(!0)*T.options.slidesToShow),!0===T.options.centerMode&&T.$list.css({padding:T.options.centerPadding+' 0px'})),T.listWidth=T.$list.width(),T.listHeight=T.$list.height(),!1===T.options.vertical&&!1===T.options.variableWidth?(T.slideWidth=Math.ceil(T.listWidth/T.options.slidesToShow),T.$slideTrack.width(Math.ceil(T.slideWidth*T.$slideTrack.children('.slick-slide').length))):!0===T.options.variableWidth?T.$slideTrack.width(5e3*T.slideCount):(T.slideWidth=Math.ceil(T.listWidth),T.$slideTrack.height(Math.ceil(T.$slides.first().outerHeight(!0)*T.$slideTrack.children('.slick-slide').length)));var P=T.$slides.first().outerWidth(!0)-T.$slides.first().width();!1===T.options.variableWidth&&T.$slideTrack.children('.slick-slide').width(T.slideWidth-P)},S.prototype.setFade=function(){var T,P=this;P.$slides.each(function(O,L){T=-1*(P.slideWidth*O),!0===P.options.rtl?_(L).css({position:'relative',right:T,top:0,zIndex:P.options.zIndex-2,opacity:0}):_(L).css({position:'relative',left:T,top:0,zIndex:P.options.zIndex-2,opacity:0})}),P.$slides.eq(P.currentSlide).css({zIndex:P.options.zIndex-1,opacity:1})},S.prototype.setHeight=function(){var T=this;if(1===T.options.slidesToShow&&!0===T.options.adaptiveHeight&&!1===T.options.vertical){var P=T.$slides.eq(T.currentSlide).outerHeight(!0);T.$list.css('height',P)}},S.prototype.setOption=S.prototype.slickSetOption=function(T,P,O){var L,W,M=this;if('responsive'===T&&'array'===_.type(P)){for(W in P)if('array'!==_.type(M.options.responsive))M.options.responsive=[P[W]];else{for(L=M.options.responsive.length-1;0<=L;)M.options.responsive[L].breakpoint===P[W].breakpoint&&M.options.responsive.splice(L,1),L--;M.options.responsive.push(P[W])}}else M.options[T]=P;!0===O&&(M.unload(),M.reinit())},S.prototype.setPosition=function(){var T=this;T.setDimensions(),T.setHeight(),!1===T.options.fade?T.setCSS(T.getLeft(T.currentSlide)):T.setFade(),T.$slider.trigger('setPosition',[T])},S.prototype.setProps=function(){var T=this,P=document.body.style;T.positionProp=!0===T.options.vertical?'top':'left','top'===T.positionProp?T.$slider.addClass('slick-vertical'):T.$slider.removeClass('slick-vertical'),(void 0!==P.WebkitTransition||void 0!==P.MozTransition||void 0!==P.msTransition)&&!0===T.options.useCSS&&(T.cssTransitions=!0),T.options.fade&&('number'==typeof T.options.zIndex?3>T.options.zIndex&&(T.options.zIndex=3):T.options.zIndex=T.defaults.zIndex),void 0!==P.OTransform&&(T.animType='OTransform',T.transformType='-o-transform',T.transitionType='OTransition',void 0===P.perspectiveProperty&&void 0===P.webkitPerspective&&(T.animType=!1)),void 0!==P.MozTransform&&(T.animType='MozTransform',T.transformType='-moz-transform',T.transitionType='MozTransition',void 0===P.perspectiveProperty&&void 0===P.MozPerspective&&(T.animType=!1)),void 0!==P.webkitTransform&&(T.animType='webkitTransform',T.transformType='-webkit-transform',T.transitionType='webkitTransition',void 0===P.perspectiveProperty&&void 0===P.webkitPerspective&&(T.animType=!1)),void 0!==P.msTransform&&(T.animType='msTransform',T.transformType='-ms-transform',T.transitionType='msTransition',void 0===P.msTransform&&(T.animType=!1)),void 0!==P.transform&&!1!==T.animType&&(T.animType='transform',T.transformType='transform',T.transitionType='transition'),T.transformsEnabled=T.options.useTransform&&null!==T.animType&&!1!==T.animType},S.prototype.setSlideClasses=function(T){var P,O,L,W,M=this;O=M.$slider.find('.slick-slide').removeClass('slick-active slick-center slick-current').attr('aria-hidden','true'),M.$slides.eq(T).addClass('slick-current'),!0===M.options.centerMode?(P=Math.floor(M.options.slidesToShow/2),!0===M.options.infinite&&(T>=P&&T<=M.slideCount-1-P?M.$slides.slice(T-P,T+P+1).addClass('slick-active').attr('aria-hidden','false'):(L=M.options.slidesToShow+T,O.slice(L-P+1,L+P+2).addClass('slick-active').attr('aria-hidden','false')),0===T?O.eq(O.length-1-M.options.slidesToShow).addClass('slick-center'):T==M.slideCount-1&&O.eq(M.options.slidesToShow).addClass('slick-center')),M.$slides.eq(T).addClass('slick-center')):0<=T&&T<=M.slideCount-M.options.slidesToShow?M.$slides.slice(T,T+M.options.slidesToShow).addClass('slick-active').attr('aria-hidden','false'):O.length<=M.options.slidesToShow?O.addClass('slick-active').attr('aria-hidden','false'):(W=M.slideCount%M.options.slidesToShow,L=!0===M.options.infinite?M.options.slidesToShow+T:T,M.options.slidesToShow==M.options.slidesToScroll&&M.slideCount-T<M.options.slidesToShow?O.slice(L-(M.options.slidesToShow-W),L+W).addClass('slick-active').attr('aria-hidden','false'):O.slice(L,L+M.options.slidesToShow).addClass('slick-active').attr('aria-hidden','false')),'ondemand'===M.options.lazyLoad&&M.lazyLoad()},S.prototype.setupInfinite=function(){var T,P,O,L=this;if(!0===L.options.fade&&(L.options.centerMode=!1),!0===L.options.infinite&&!1===L.options.fade&&(P=null,L.slideCount>L.options.slidesToShow)){for(O=!0===L.options.centerMode?L.options.slidesToShow+1:L.options.slidesToShow,T=L.slideCount;T>L.slideCount-O;T-=1)P=T-1,_(L.$slides[P]).clone(!0).attr('id','').attr('data-slick-index',P-L.slideCount).prependTo(L.$slideTrack).addClass('slick-cloned');for(T=0;O>T;T+=1)P=T,_(L.$slides[P]).clone(!0).attr('id','').attr('data-slick-index',P+L.slideCount).appendTo(L.$slideTrack).addClass('slick-cloned');L.$slideTrack.find('.slick-cloned').find('[id]').each(function(){_(this).attr('id','')})}},S.prototype.setPaused=function(T){var P=this;!0===P.options.autoplay&&!0===P.options.pauseOnHover&&(P.paused=T,T?P.autoPlayClear():P.autoPlay())},S.prototype.selectHandler=function(T){var P=this,O=_(T.target).is('.slick-slide')?_(T.target):_(T.target).parents('.slick-slide'),L=parseInt(O.attr('data-slick-index'));return L||(L=0),P.slideCount<=P.options.slidesToShow?(P.setSlideClasses(L),void P.asNavFor(L)):void P.slideHandler(L)},S.prototype.slideHandler=function(T,P,O){var L,W,M,N,R=null,U=this;return P=P||!1,!0===U.animating&&!0===U.options.waitForAnimate||!0===U.options.fade&&U.currentSlide===T||U.slideCount<=U.options.slidesToShow?void 0:(!1===P&&U.asNavFor(T),L=T,R=U.getLeft(L),N=U.getLeft(U.currentSlide),U.currentLeft=null===U.swipeLeft?N:U.swipeLeft,!1===U.options.infinite&&!1===U.options.centerMode&&(0>T||T>U.getDotCount()*U.options.slidesToScroll)?void(!1===U.options.fade&&(L=U.currentSlide,!0===O?U.postSlide(L):U.animateSlide(N,function(){U.postSlide(L)}))):!1===U.options.infinite&&!0===U.options.centerMode&&(0>T||T>U.slideCount-U.options.slidesToScroll)?void(!1===U.options.fade&&(L=U.currentSlide,!0===O?U.postSlide(L):U.animateSlide(N,function(){U.postSlide(L)}))):(!0===U.options.autoplay&&clearInterval(U.autoPlayTimer),W=0>L?0==U.slideCount%U.options.slidesToScroll?U.slideCount+L:U.slideCount-U.slideCount%U.options.slidesToScroll:L>=U.slideCount?0==U.slideCount%U.options.slidesToScroll?L-U.slideCount:0:L,U.animating=!0,U.$slider.trigger('beforeChange',[U,U.currentSlide,W]),M=U.currentSlide,U.currentSlide=W,U.setSlideClasses(U.currentSlide),U.updateDots(),U.updateArrows(),!0===U.options.fade?(!0===O?U.postSlide(W):(U.fadeSlideOut(M),U.fadeSlide(W,function(){U.postSlide(W)})),void U.animateHeight()):void(!0===O?U.postSlide(W):U.animateSlide(R,function(){U.postSlide(W)}))))},S.prototype.startLoad=function(){var T=this;!0===T.options.arrows&&T.slideCount>T.options.slidesToShow&&(T.$prevArrow.hide(),T.$nextArrow.hide()),!0===T.options.dots&&T.slideCount>T.options.slidesToShow&&T.$dots.hide(),T.$slider.addClass('slick-loading')},S.prototype.swipeDirection=function(){var T,P,O,L,W=this;return T=W.touchObject.startX-W.touchObject.curX,P=W.touchObject.startY-W.touchObject.curY,O=Math.atan2(P,T),L=Math.round(180*O/Math.PI),0>L&&(L=360-Math.abs(L)),45>=L&&0<=L?!1===W.options.rtl?'left':'right':360>=L&&315<=L?!1===W.options.rtl?'left':'right':135<=L&&225>=L?!1===W.options.rtl?'right':'left':!0===W.options.verticalSwiping?35<=L&&135>=L?'left':'right':'vertical'},S.prototype.swipeEnd=function(){var P,O=this;if(O.dragging=!1,O.shouldClick=!(10<O.touchObject.swipeLength),void 0===O.touchObject.curX)return!1;if(!0===O.touchObject.edgeHit&&O.$slider.trigger('edge',[O,O.swipeDirection()]),O.touchObject.swipeLength>=O.touchObject.minSwipe)switch(O.swipeDirection()){case'left':P=O.options.swipeToSlide?O.checkNavigable(O.currentSlide+O.getSlideCount()):O.currentSlide+O.getSlideCount(),O.slideHandler(P),O.currentDirection=0,O.touchObject={},O.$slider.trigger('swipe',[O,'left']);break;case'right':P=O.options.swipeToSlide?O.checkNavigable(O.currentSlide-O.getSlideCount()):O.currentSlide-O.getSlideCount(),O.slideHandler(P),O.currentDirection=1,O.touchObject={},O.$slider.trigger('swipe',[O,'right']);}else O.touchObject.startX!==O.touchObject.curX&&(O.slideHandler(O.currentSlide),O.touchObject={})},S.prototype.swipeHandler=function(T){var P=this;if(!(!1===P.options.swipe||'ontouchend'in document&&!1===P.options.swipe||!1===P.options.draggable&&-1!==T.type.indexOf('mouse')))switch(P.touchObject.fingerCount=T.originalEvent&&void 0!==T.originalEvent.touches?T.originalEvent.touches.length:1,P.touchObject.minSwipe=P.listWidth/P.options.touchThreshold,!0===P.options.verticalSwiping&&(P.touchObject.minSwipe=P.listHeight/P.options.touchThreshold),T.data.action){case'start':P.swipeStart(T);break;case'move':P.swipeMove(T);break;case'end':P.swipeEnd(T);}},S.prototype.swipeMove=function(T){var P,O,L,W,M,N=this;return M=void 0===T.originalEvent?null:T.originalEvent.touches,!N.dragging||M&&1!==M.length?!1:(P=N.getLeft(N.currentSlide),N.touchObject.curX=void 0===M?T.clientX:M[0].pageX,N.touchObject.curY=void 0===M?T.clientY:M[0].pageY,N.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(N.touchObject.curX-N.touchObject.startX,2))),!0===N.options.verticalSwiping&&(N.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(N.touchObject.curY-N.touchObject.startY,2)))),O=N.swipeDirection(),'vertical'===O?void 0:(void 0!==T.originalEvent&&4<N.touchObject.swipeLength&&T.preventDefault(),W=(!1===N.options.rtl?1:-1)*(N.touchObject.curX>N.touchObject.startX?1:-1),!0===N.options.verticalSwiping&&(W=N.touchObject.curY>N.touchObject.startY?1:-1),L=N.touchObject.swipeLength,N.touchObject.edgeHit=!1,!1===N.options.infinite&&(0===N.currentSlide&&'right'==O||N.currentSlide>=N.getDotCount()&&'left'==O)&&(L=N.touchObject.swipeLength*N.options.edgeFriction,N.touchObject.edgeHit=!0),N.swipeLeft=!1===N.options.vertical?P+L*W:P+L*(N.$list.height()/N.listWidth)*W,!0===N.options.verticalSwiping&&(N.swipeLeft=P+L*W),!0===N.options.fade||!1===N.options.touchMove?!1:!0===N.animating?(N.swipeLeft=null,!1):void N.setCSS(N.swipeLeft)))},S.prototype.swipeStart=function(T){var P,O=this;return 1!==O.touchObject.fingerCount||O.slideCount<=O.options.slidesToShow?(O.touchObject={},!1):(void 0!==T.originalEvent&&void 0!==T.originalEvent.touches&&(P=T.originalEvent.touches[0]),O.touchObject.startX=O.touchObject.curX=void 0===P?T.clientX:P.pageX,O.touchObject.startY=O.touchObject.curY=void 0===P?T.clientY:P.pageY,void(O.dragging=!0))},S.prototype.unfilterSlides=S.prototype.slickUnfilter=function(){var T=this;null!==T.$slidesCache&&(T.unload(),T.$slideTrack.children(this.options.slide).detach(),T.$slidesCache.appendTo(T.$slideTrack),T.reinit())},S.prototype.unload=function(){var T=this;_('.slick-cloned',T.$slider).remove(),T.$dots&&T.$dots.remove(),T.$prevArrow&&T.htmlExpr.test(T.options.prevArrow)&&T.$prevArrow.remove(),T.$nextArrow&&T.htmlExpr.test(T.options.nextArrow)&&T.$nextArrow.remove(),T.$slides.removeClass('slick-slide slick-active slick-visible slick-current').attr('aria-hidden','true').css('width','')},S.prototype.unslick=function(T){var P=this;P.$slider.trigger('unslick',[P,T]),P.destroy()},S.prototype.updateArrows=function(){var T,P=this;T=Math.floor(P.options.slidesToShow/2),!0===P.options.arrows&&P.slideCount>P.options.slidesToShow&&!P.options.infinite&&(P.$prevArrow.removeClass('slick-disabled').attr('aria-disabled','false'),P.$nextArrow.removeClass('slick-disabled').attr('aria-disabled','false'),0===P.currentSlide?(P.$prevArrow.addClass('slick-disabled').attr('aria-disabled','true'),P.$nextArrow.removeClass('slick-disabled').attr('aria-disabled','false')):P.currentSlide>=P.slideCount-P.options.slidesToShow&&!1===P.options.centerMode?(P.$nextArrow.addClass('slick-disabled').attr('aria-disabled','true'),P.$prevArrow.removeClass('slick-disabled').attr('aria-disabled','false')):P.currentSlide>=P.slideCount-1&&!0===P.options.centerMode&&(P.$nextArrow.addClass('slick-disabled').attr('aria-disabled','true'),P.$prevArrow.removeClass('slick-disabled').attr('aria-disabled','false')))},S.prototype.updateDots=function(){var T=this;null!==T.$dots&&(T.$dots.find('li').removeClass('slick-active').attr('aria-hidden','true'),T.$dots.find('li').eq(Math.floor(T.currentSlide/T.options.slidesToScroll)).addClass('slick-active').attr('aria-hidden','false'))},S.prototype.visibility=function(){var T=this;document[T.hidden]?(T.paused=!0,T.autoPlayClear()):!0===T.options.autoplay&&(T.paused=!1,T.autoPlay())},S.prototype.initADA=function(){var T=this;T.$slides.add(T.$slideTrack.find('.slick-cloned')).attr({'aria-hidden':'true',tabindex:'-1'}).find('a, input, button, select').attr({tabindex:'-1'}),T.$slideTrack.attr('role','listbox'),T.$slides.not(T.$slideTrack.find('.slick-cloned')).each(function(P){_(this).attr({role:'option','aria-describedby':'slick-slide'+T.instanceUid+P})}),null!==T.$dots&&T.$dots.attr('role','tablist').find('li').each(function(P){_(this).attr({role:'presentation','aria-selected':'false','aria-controls':'navigation'+T.instanceUid+P,id:'slick-slide'+T.instanceUid+P})}).first().attr('aria-selected','true').end().find('button').attr('role','button').end().closest('div').attr('role','toolbar'),T.activateADA()},S.prototype.activateADA=function(){var T=this;T.$slideTrack.find('.slick-active').attr({'aria-hidden':'false'}).find('a, input, button, select').attr({tabindex:'0'})},S.prototype.focusHandler=function(){var T=this;T.$slider.on('focus.slick blur.slick','*',function(P){P.stopImmediatePropagation();var O=_(this);setTimeout(function(){T.isPlay&&(O.is(':focus')?(T.autoPlayClear(),T.paused=!0):(T.paused=!1,T.autoPlay()))},0)})},_.fn.slick=function(){var T,P,O=this,L=arguments[0],W=Array.prototype.slice.call(arguments,1),M=O.length;for(T=0;M>T;T++)if('object'==typeof L||'undefined'==typeof L?O[T].slick=new S(O[T],L):P=O[T].slick[L].apply(O[T].slick,W),'undefined'!=typeof P)return P;return O}}),function(_,S,T,P){var O=T('html'),L=T(_),W=T(S),M=T.fancybox=function(){M.open.apply(this,arguments)},N=navigator.userAgent.match(/msie/i),R=null,U=S.createTouch!==P,V=function(Q){return Q&&Q.hasOwnProperty&&Q instanceof T},X=function(Q){return Q&&'string'===T.type(Q)},Y=function(Q){return X(Q)&&0<Q.indexOf('%')},Z=function(Q,ee){var te=parseInt(Q,10)||0;return ee&&Y(Q)&&(te*=M.getViewport()[ee]/100),Math.ceil(te)},K=function(Q,ee){return Z(Q,ee)+'px'};T.extend(M,{version:'2.1.5',defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!U,fitToView:!0,aspectRatio:!1,topRatio:0.5,leftRatio:0.5,scrolling:'auto',wrapCSS:'',arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,preload:3,modal:!1,loop:!0,ajax:{dataType:'html',headers:{'X-fancyBox':!0}},iframe:{scrolling:'auto',preload:!0},swf:{wmode:'transparent',allowfullscreen:'true',allowscriptaccess:'always'},keys:{next:{13:'left',34:'up',39:'left',40:'up'},prev:{8:'right',33:'down',37:'right',38:'down'},close:[27],play:[32],toggle:[70]},direction:{next:'left',prev:'right'},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(N?' allowtransparency="true"':'')+'></iframe>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:'fade',openSpeed:250,openEasing:'swing',openOpacity:!0,openMethod:'zoomIn',closeEffect:'fade',closeSpeed:250,closeEasing:'swing',closeOpacity:!0,closeMethod:'zoomOut',nextEffect:'elastic',nextSpeed:250,nextEasing:'swing',nextMethod:'changeIn',prevEffect:'elastic',prevSpeed:250,prevEasing:'swing',prevMethod:'changeOut',helpers:{overlay:!0,title:!0},onCancel:T.noop,beforeLoad:T.noop,afterLoad:T.noop,beforeShow:T.noop,afterShow:T.noop,beforeChange:T.noop,beforeClose:T.noop,afterClose:T.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(Q,ee){if(Q&&(T.isPlainObject(ee)||(ee={}),!1!==M.close(!0)))return T.isArray(Q)||(Q=V(Q)?T(Q).get():[Q]),T.each(Q,function(te,ie){var oe,ae,ne,le,re,se={};'object'===T.type(ie)&&(ie.nodeType&&(ie=T(ie)),V(ie)?(se={href:ie.data('fancybox-href')||ie.attr('href'),title:ie.data('fancybox-title')||ie.attr('title'),isDom:!0,element:ie},T.metadata&&T.extend(!0,se,ie.metadata())):se=ie),oe=ee.href||se.href||(X(ie)?ie:null),ae=ee.title===P?se.title||'':ee.title,le=(ne=ee.content||se.content)?'html':ee.type||se.type,!le&&se.isDom&&(le=ie.data('fancybox-type'),le||(le=(le=ie.prop('class').match(/fancybox\.(\w+)/))?le[1]:null)),X(oe)&&(le||(M.isImage(oe)?le='image':M.isSWF(oe)?le='swf':'#'===oe.charAt(0)?le='inline':X(ie)&&(le='html',ne=ie)),'ajax'===le&&(re=oe.split(/\s+/,2),oe=re.shift(),re=re.shift())),ne||('inline'===le?oe?ne=T(X(oe)?oe.replace(/.*(?=#[^\s]+$)/,''):oe):se.isDom&&(ne=ie):'html'===le?ne=oe:!le&&!oe&&se.isDom&&(le='inline',ne=ie)),T.extend(se,{href:oe,type:le,content:ne,title:ae,selector:re}),Q[te]=se}),M.opts=T.extend(!0,{},M.defaults,ee),ee.keys!==P&&(M.opts.keys=!!ee.keys&&T.extend({},M.defaults.keys,ee.keys)),M.group=Q,M._start(M.opts.index)},cancel:function(){var Q=M.coming;Q&&!1!==M.trigger('onCancel')&&(M.hideLoading(),M.ajaxLoad&&M.ajaxLoad.abort(),M.ajaxLoad=null,M.imgPreload&&(M.imgPreload.onload=M.imgPreload.onerror=null),Q.wrap&&Q.wrap.stop(!0,!0).trigger('onReset').remove(),M.coming=null,M.current||M._afterZoomOut(Q))},close:function(Q){M.cancel(),!1!==M.trigger('beforeClose')&&(M.unbindEvents(),M.isActive&&(M.isOpen&&!0!==Q?(M.isOpen=M.isOpened=!1,M.isClosing=!0,T('.fancybox-item, .fancybox-nav').remove(),M.wrap.stop(!0,!0).removeClass('fancybox-opened'),M.transitions[M.current.closeMethod]()):(T('.fancybox-wrap').stop(!0).trigger('onReset').remove(),M._afterZoomOut())))},play:function(Q){var ee=function(){clearTimeout(M.player.timer)},te=function(){ee(),M.current&&M.player.isActive&&(M.player.timer=setTimeout(M.next,M.current.playSpeed))},ie=function(){ee(),W.unbind('.player'),M.player.isActive=!1,M.trigger('onPlayEnd')};!0!==Q&&(M.player.isActive||!1===Q)?ie():M.current&&(M.current.loop||M.current.index<M.group.length-1)&&(M.player.isActive=!0,W.bind({'onCancel.player beforeClose.player':ie,'onUpdate.player':te,'beforeLoad.player':ee}),te(),M.trigger('onPlayStart'))},next:function(Q){var ee=M.current;ee&&(X(Q)||(Q=ee.direction.next),M.jumpto(ee.index+1,Q,'next'))},prev:function(Q){var ee=M.current;ee&&(X(Q)||(Q=ee.direction.prev),M.jumpto(ee.index-1,Q,'prev'))},jumpto:function(Q,ee,te){var ie=M.current;ie&&(Q=Z(Q),M.direction=ee||ie.direction[Q>=ie.index?'next':'prev'],M.router=te||'jumpto',ie.loop&&(0>Q&&(Q=ie.group.length+Q%ie.group.length),Q%=ie.group.length),ie.group[Q]!==P&&(M.cancel(),M._start(Q)))},reposition:function(Q,ee){var se,te=M.current,ie=te?te.wrap:null;ie&&(se=M._getPosition(ee),Q&&'scroll'===Q.type?(delete se.position,ie.stop(!0,!0).animate(se,200)):(ie.css(se),te.pos=T.extend({},te.dim,se)))},update:function(Q){var ee=Q&&Q.type,te=!ee||'orientationchange'===ee;te&&(clearTimeout(R),R=null),M.isOpen&&!R&&(R=setTimeout(function(){var ie=M.current;ie&&!M.isClosing&&(M.wrap.removeClass('fancybox-tmp'),(te||'load'===ee||'resize'===ee&&ie.autoResize)&&M._setDimension(),'scroll'===ee&&ie.canShrink||M.reposition(Q),M.trigger('onUpdate'),R=null)},te&&!U?0:300))},toggle:function(Q){M.isOpen&&(M.current.fitToView='boolean'===T.type(Q)?Q:!M.current.fitToView,U&&(M.wrap.removeAttr('style').addClass('fancybox-tmp'),M.trigger('onUpdate')),M.update())},hideLoading:function(){W.unbind('.loading'),T('#fancybox-loading').remove()},showLoading:function(){var Q,ee;M.hideLoading(),Q=T('<div id="fancybox-loading"><div></div></div>').click(M.cancel).appendTo('body'),W.bind('keydown.loading',function(te){27===(te.which||te.keyCode)&&(te.preventDefault(),M.cancel())}),M.defaults.fixed||(ee=M.getViewport(),Q.css({position:'absolute',top:0.5*ee.h+ee.y,left:0.5*ee.w+ee.x}))},getViewport:function(){var Q=M.current&&M.current.locked||!1,ee={x:L.scrollLeft(),y:L.scrollTop()};return Q?(ee.w=Q[0].clientWidth,ee.h=Q[0].clientHeight):(ee.w=U&&_.innerWidth?_.innerWidth:L.width(),ee.h=U&&_.innerHeight?_.innerHeight:L.height()),ee},unbindEvents:function(){M.wrap&&V(M.wrap)&&M.wrap.unbind('.fb'),W.unbind('.fb'),L.unbind('.fb')},bindEvents:function(){var ee,Q=M.current;Q&&(L.bind('orientationchange.fb'+(U?'':' resize.fb')+(Q.autoCenter&&!Q.locked?' scroll.fb':''),M.update),(ee=Q.keys)&&W.bind('keydown.fb',function(te){var ie=te.which||te.keyCode,se=te.target||te.srcElement;return 27===ie&&M.coming?!1:void(!te.ctrlKey&&!te.altKey&&!te.shiftKey&&!te.metaKey&&(!se||!se.type&&!T(se).is('[contenteditable]'))&&T.each(ee,function(oe,ae){return 1<Q.group.length&&ae[ie]!==P?(M[oe](ae[ie]),te.preventDefault(),!1):-1<T.inArray(ie,ae)?(M[oe](),te.preventDefault(),!1):void 0}))}),T.fn.mousewheel&&Q.mouseWheel&&M.wrap.bind('mousewheel.fb',function(te,ie,se,oe){for(var ae=T(te.target||null),ne=!1;ae.length&&!ne&&!ae.is('.fancybox-skin')&&!ae.is('.fancybox-wrap');)ne=ae[0]&&!(ae[0].style.overflow&&'hidden'===ae[0].style.overflow)&&(ae[0].clientWidth&&ae[0].scrollWidth>ae[0].clientWidth||ae[0].clientHeight&&ae[0].scrollHeight>ae[0].clientHeight),ae=T(ae).parent();0===ie||ne||!(1<M.group.length)||Q.canShrink||(0<oe||0<se?M.prev(0<oe?'down':'left'):(0>oe||0>se)&&M.next(0>oe?'up':'right'),te.preventDefault())}))},trigger:function(Q,ee){var te,ie=ee||M.coming||M.current;if(ie){if(T.isFunction(ie[Q])&&(te=ie[Q].apply(ie,Array.prototype.slice.call(arguments,1))),!1===te)return!1;ie.helpers&&T.each(ie.helpers,function(se,oe){oe&&M.helpers[se]&&T.isFunction(M.helpers[se][Q])&&M.helpers[se][Q](T.extend(!0,{},M.helpers[se].defaults,oe),ie)}),W.trigger(Q)}},isImage:function(Q){return X(Q)&&Q.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(Q){return X(Q)&&Q.match(/\.(swf)((\?|#).*)?$/i)},_start:function(Q){var te,ie,ee={};if(Q=Z(Q),te=M.group[Q]||null,!te)return!1;if(ee=T.extend(!0,{},M.opts,te),te=ee.margin,ie=ee.padding,'number'===T.type(te)&&(ee.margin=[te,te,te,te]),'number'===T.type(ie)&&(ee.padding=[ie,ie,ie,ie]),ee.modal&&T.extend(!0,ee,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),ee.autoSize&&(ee.autoWidth=ee.autoHeight=!0),'auto'===ee.width&&(ee.autoWidth=!0),'auto'===ee.height&&(ee.autoHeight=!0),ee.group=M.group,ee.index=Q,M.coming=ee,!1===M.trigger('beforeLoad'))M.coming=null;else{if(ie=ee.type,te=ee.href,!ie)return M.coming=null,M.current&&M.router&&'jumpto'!==M.router&&(M.current.index=Q,M[M.router](M.direction));if(M.isActive=!0,('image'===ie||'swf'===ie)&&(ee.autoHeight=ee.autoWidth=!1,ee.scrolling='visible'),'image'===ie&&(ee.aspectRatio=!0),'iframe'===ie&&U&&(ee.scrolling='scroll'),ee.wrap=T(ee.tpl.wrap).addClass('fancybox-'+(U?'mobile':'desktop')+' fancybox-type-'+ie+' fancybox-tmp '+ee.wrapCSS).appendTo(ee.parent||'body'),T.extend(ee,{skin:T('.fancybox-skin',ee.wrap),outer:T('.fancybox-outer',ee.wrap),inner:T('.fancybox-inner',ee.wrap)}),T.each(['Top','Right','Bottom','Left'],function(se,oe){ee.skin.css('padding'+oe,K(ee.padding[se]))}),M.trigger('onReady'),'inline'===ie||'html'===ie){if(!ee.content||!ee.content.length)return M._error('content');}else if(!te)return M._error('href');'image'===ie?M._loadImage():'ajax'===ie?M._loadAjax():'iframe'===ie?M._loadIframe():M._afterLoad()}},_error:function(Q){T.extend(M.coming,{type:'html',autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:'no',hasError:Q,content:M.coming.tpl.error}),M._afterLoad()},_loadImage:function(){var Q=M.imgPreload=new Image;Q.onload=function(){this.onload=this.onerror=null,M.coming.width=this.width/M.opts.pixelRatio,M.coming.height=this.height/M.opts.pixelRatio,M._afterLoad()},Q.onerror=function(){this.onload=this.onerror=null,M._error('image')},Q.src=M.coming.href,!0!==Q.complete&&M.showLoading()},_loadAjax:function(){var Q=M.coming;M.showLoading(),M.ajaxLoad=T.ajax(T.extend({},Q.ajax,{url:Q.href,error:function(ee,te){M.coming&&'abort'!==te?M._error('ajax',ee):M.hideLoading()},success:function(ee,te){'success'===te&&(Q.content=ee,M._afterLoad())}}))},_loadIframe:function(){var Q=M.coming,ee=T(Q.tpl.iframe.replace(/\{rnd\}/g,new Date().getTime())).attr('scrolling',U?'auto':Q.iframe.scrolling).attr('src',Q.href);T(Q.wrap).bind('onReset',function(){try{T(this).find('iframe').hide().attr('src','//about:blank').end().empty()}catch(te){}}),Q.iframe.preload&&(M.showLoading(),ee.one('load',function(){T(this).data('ready',1),U||T(this).bind('load.fb',M.update),T(this).parents('.fancybox-wrap').width('100%').removeClass('fancybox-tmp').show(),M._afterLoad()})),Q.content=ee.appendTo(Q.inner),Q.iframe.preload||M._afterLoad()},_preloadImages:function(){var se,oe,Q=M.group,ee=M.current,te=Q.length,ie=ee.preload?Math.min(ee.preload,te-1):0;for(oe=1;oe<=ie;oe+=1)se=Q[(ee.index+oe)%te],'image'===se.type&&se.href&&(new Image().src=se.href)},_afterLoad:function(){var te,ie,se,oe,ae,Q=M.coming,ee=M.current;M.hideLoading();Q&&!1!==M.isActive&&(!1===M.trigger('afterLoad',Q,ee)?(Q.wrap.stop(!0).trigger('onReset').remove(),M.coming=null):(ee&&(M.trigger('beforeChange',ee),ee.wrap.stop(!0).removeClass('fancybox-opened').find('.fancybox-item, .fancybox-nav').remove()),M.unbindEvents(),te=Q.content,ie=Q.type,se=Q.scrolling,T.extend(M,{wrap:Q.wrap,skin:Q.skin,outer:Q.outer,inner:Q.inner,current:Q,previous:ee}),oe=Q.href,'inline'===ie||'ajax'===ie||'html'===ie?Q.selector?te=T('<div>').html(te).find(Q.selector):V(te)&&(te.data('fancybox-placeholder')||te.data('fancybox-placeholder',T('<div class="fancybox-placeholder"></div>').insertAfter(te).hide()),te=te.show().detach(),Q.wrap.bind('onReset',function(){T(this).find(te).length&&te.hide().replaceAll(te.data('fancybox-placeholder')).data('fancybox-placeholder',!1)})):'image'===ie?te=Q.tpl.image.replace('{href}',oe):'swf'===ie?(te='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+oe+'"></param>',ae='',T.each(Q.swf,function(ne,le){te+='<param name="'+ne+'" value="'+le+'"></param>',ae+=' '+ne+'="'+le+'"'}),te+='<embed src="'+oe+'" type="application/x-shockwave-flash" width="100%" height="100%"'+ae+'></embed></object>'):void 0,V(te)&&te.parent().is(Q.inner)||Q.inner.append(te),M.trigger('beforeShow'),Q.inner.css('overflow','yes'===se?'scroll':'no'===se?'hidden':se),M._setDimension(),M.reposition(),M.isOpen=!1,M.coming=null,M.bindEvents(),M.isOpened?ee.prevMethod&&M.transitions[ee.prevMethod]():T('.fancybox-wrap').not(Q.wrap).stop(!0).trigger('onReset').remove(),M.transitions[M.isOpened?Q.nextMethod:Q.openMethod](),M._preloadImages()))},_setDimension:function(){var ge,ve,we,be,ye,ke,Ce,xe,_e,Q=M.getViewport(),ee=0,te=!1,ie=!1,te=M.wrap,se=M.skin,oe=M.inner,ae=M.current,ie=ae.width,ne=ae.height,le=ae.minWidth,re=ae.minHeight,de=ae.maxWidth,ce=ae.maxHeight,pe=ae.scrolling,ue=ae.scrollOutside?ae.scrollbarWidth:0,he=ae.margin,fe=Z(he[1]+he[3]),me=Z(he[0]+he[2]);if(te.add(se).add(oe).width('auto').height('auto').removeClass('fancybox-tmp'),he=Z(se.outerWidth(!0)-se.width()),ge=Z(se.outerHeight(!0)-se.height()),ve=fe+he,we=me+ge,be=Y(ie)?(Q.w-ve)*Z(ie)/100:ie,ye=Y(ne)?(Q.h-we)*Z(ne)/100:ne,'iframe'!==ae.type)(ae.autoWidth||ae.autoHeight)&&(oe.addClass('fancybox-tmp'),ae.autoWidth||oe.width(be),ae.autoHeight||oe.height(ye),ae.autoWidth&&(be=oe.width()),ae.autoHeight&&(ye=oe.height()),oe.removeClass('fancybox-tmp'));else if(_e=ae.content,ae.autoHeight&&1===_e.data('ready'))try{_e[0].contentWindow.document.location&&(oe.width(be).height(9999),ke=_e.contents().find('body'),ue&&ke.css('overflow-x','hidden'),ye=ke.outerHeight(!0))}catch(Se){}if(ie=Z(be),ne=Z(ye),xe=be/ye,le=Z(Y(le)?Z(le,'w')-ve:le),de=Z(Y(de)?Z(de,'w')-ve:de),re=Z(Y(re)?Z(re,'h')-we:re),ce=Z(Y(ce)?Z(ce,'h')-we:ce),ke=de,Ce=ce,ae.fitToView&&(de=Math.min(Q.w-ve,de),ce=Math.min(Q.h-we,ce)),ve=Q.w-fe,me=Q.h-me,ae.aspectRatio?(ie>de&&(ie=de,ne=Z(ie/xe)),ne>ce&&(ne=ce,ie=Z(ne*xe)),ie<le&&(ie=le,ne=Z(ie/xe)),ne<re&&(ne=re,ie=Z(ne*xe))):(ie=Math.max(le,Math.min(ie,de)),ae.autoHeight&&'iframe'!==ae.type&&(oe.width(ie),ne=oe.height()),ne=Math.max(re,Math.min(ne,ce))),ae.fitToView)if(oe.width(ie).height(ne),te.width(ie+he),Q=te.width(),fe=te.height(),ae.aspectRatio)for(;(Q>ve||fe>me)&&ie>le&&ne>re&&!(19<ee++);)ne=Math.max(re,Math.min(ce,ne-10)),ie=Z(ne*xe),ie<le&&(ie=le,ne=Z(ie/xe)),ie>de&&(ie=de,ne=Z(ie/xe)),oe.width(ie).height(ne),te.width(ie+he),Q=te.width(),fe=te.height();else ie=Math.max(le,Math.min(ie,ie-(Q-ve))),ne=Math.max(re,Math.min(ne,ne-(fe-me)));ue&&'auto'===pe&&ne<ye&&ie+he+ue<ve&&(ie+=ue),oe.width(ie).height(ne),te.width(ie+he),Q=te.width(),fe=te.height(),te=(Q>ve||fe>me)&&ie>le&&ne>re,ie=ae.aspectRatio?ie<ke&&ne<Ce&&ie<be&&ne<ye:(ie<ke||ne<Ce)&&(ie<be||ne<ye),T.extend(ae,{dim:{width:K(Q),height:K(fe)},origWidth:be,origHeight:ye,canShrink:te,canExpand:ie,wPadding:he,hPadding:ge,wrapSpace:fe-se.outerHeight(!0),skinSpace:se.height()-ne}),!_e&&ae.autoHeight&&ne>re&&ne<ce&&!ie&&oe.height('auto')},_getPosition:function(Q){var ee=M.current,te=M.getViewport(),ie=ee.margin,se=M.wrap.width()+ie[1]+ie[3],oe=M.wrap.height()+ie[0]+ie[2],ie={position:'absolute',top:ie[0],left:ie[3]};return ee.autoCenter&&ee.fixed&&!Q&&oe<=te.h&&se<=te.w?ie.position='fixed':ee.locked||(ie.top+=te.y,ie.left+=te.x),ie.top=K(Math.max(ie.top,ie.top+(te.h-oe)*ee.topRatio)),ie.left=K(Math.max(ie.left,ie.left+(te.w-se)*ee.leftRatio)),ie},_afterZoomIn:function(){var Q=M.current;Q&&(M.isOpen=M.isOpened=!0,M.wrap.css('overflow','visible').addClass('fancybox-opened'),M.update(),(Q.closeClick||Q.nextClick&&1<M.group.length)&&M.inner.css('cursor','pointer').bind('click.fb',function(ee){T(ee.target).is('a')||T(ee.target).parent().is('a')||(ee.preventDefault(),M[Q.closeClick?'close':'next']())}),Q.closeBtn&&T(Q.tpl.closeBtn).appendTo(M.skin).bind('click.fb',function(ee){ee.preventDefault(),M.close()}),Q.arrows&&1<M.group.length&&((Q.loop||0<Q.index)&&T(Q.tpl.prev).appendTo(M.outer).bind('click.fb',M.prev),(Q.loop||Q.index<M.group.length-1)&&T(Q.tpl.next).appendTo(M.outer).bind('click.fb',M.next)),M.trigger('afterShow'),Q.loop||Q.index!==Q.group.length-1?M.opts.autoPlay&&!M.player.isActive&&(M.opts.autoPlay=!1,M.play()):M.play(!1))},_afterZoomOut:function(Q){Q=Q||M.current,T('.fancybox-wrap').trigger('onReset').remove(),T.extend(M,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),M.trigger('afterClose',Q)}}),M.transitions={getOrigPosition:function(){var Q=M.current,ee=Q.element,te=Q.orig,ie={},se=50,oe=50,ae=Q.hPadding,ne=Q.wPadding,le=M.getViewport();return!te&&Q.isDom&&ee.is(':visible')&&(te=ee.find('img:first'),te.length||(te=ee)),V(te)?(ie=te.offset(),te.is('img')&&(se=te.outerWidth(),oe=te.outerHeight())):(ie.top=le.y+(le.h-oe)*Q.topRatio,ie.left=le.x+(le.w-se)*Q.leftRatio),('fixed'===M.wrap.css('position')||Q.locked)&&(ie.top-=le.y,ie.left-=le.x),ie={top:K(ie.top-ae*Q.topRatio),left:K(ie.left-ne*Q.leftRatio),width:K(se+ne),height:K(oe+ae)}},step:function(Q,ee){var te,ie,se=ee.prop;ie=M.current;var oe=ie.wrapSpace,ae=ie.skinSpace;('width'===se||'height'===se)&&(te=ee.end===ee.start?1:(Q-ee.start)/(ee.end-ee.start),M.isClosing&&(te=1-te),ie='width'===se?ie.wPadding:ie.hPadding,ie=Q-ie,M.skin[se](Z('width'===se?ie:ie-oe*te)),M.inner[se](Z('width'===se?ie:ie-oe*te-ae*te)))},zoomIn:function(){var Q=M.current,ee=Q.pos,te=Q.openEffect,ie='elastic'===te,se=T.extend({opacity:1},ee);delete se.position,ie?(ee=this.getOrigPosition(),Q.openOpacity&&(ee.opacity=0.1)):'fade'===te&&(ee.opacity=0.1),M.wrap.css(ee).animate(se,{duration:'none'===te?0:Q.openSpeed,easing:Q.openEasing,step:ie?this.step:null,complete:M._afterZoomIn})},zoomOut:function(){var Q=M.current,ee=Q.closeEffect,te='elastic'===ee,ie={opacity:0.1};te&&(ie=this.getOrigPosition(),Q.closeOpacity&&(ie.opacity=0.1)),M.wrap.animate(ie,{duration:'none'===ee?0:Q.closeSpeed,easing:Q.closeEasing,step:te?this.step:null,complete:M._afterZoomOut})},changeIn:function(){var oe,Q=M.current,ee=Q.nextEffect,te=Q.pos,ie={opacity:1},se=M.direction;te.opacity=0.1,'elastic'===ee&&(oe='down'===se||'up'===se?'top':'left','down'===se||'right'===se?(te[oe]=K(Z(te[oe])-200),ie[oe]='+=200px'):(te[oe]=K(Z(te[oe])+200),ie[oe]='-=200px')),'none'===ee?M._afterZoomIn():M.wrap.css(te).animate(ie,{duration:Q.nextSpeed,easing:Q.nextEasing,complete:M._afterZoomIn})},changeOut:function(){var Q=M.previous,ee=Q.prevEffect,te={opacity:0.1},ie=M.direction;'elastic'===ee&&(te['down'===ie||'up'===ie?'top':'left']=('up'===ie||'left'===ie?'-':'+')+'=200px'),Q.wrap.animate(te,{duration:'none'===ee?0:Q.prevSpeed,easing:Q.prevEasing,complete:function(){T(this).trigger('onReset').remove()}})}},M.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!U,fixed:!0},overlay:null,fixed:!1,el:T('html'),create:function(Q){Q=T.extend({},this.defaults,Q),this.overlay&&this.close(),this.overlay=T('<div class="fancybox-overlay"></div>').appendTo(M.coming?M.coming.parent:Q.parent),this.fixed=!1,Q.fixed&&M.defaults.fixed&&(this.overlay.addClass('fancybox-overlay-fixed'),this.fixed=!0)},open:function(Q){var ee=this;Q=T.extend({},this.defaults,Q),this.overlay?this.overlay.unbind('.overlay').width('auto').height('auto'):this.create(Q),this.fixed||(L.bind('resize.overlay',T.proxy(this.update,this)),this.update()),Q.closeClick&&this.overlay.bind('click.overlay',function(te){if(T(te.target).hasClass('fancybox-overlay'))return M.isActive?M.close():ee.close(),!1}),this.overlay.css(Q.css).show()},close:function(){var Q,ee;L.unbind('resize.overlay'),this.el.hasClass('fancybox-lock')&&(T('.fancybox-margin').removeClass('fancybox-margin'),Q=L.scrollTop(),ee=L.scrollLeft(),this.el.removeClass('fancybox-lock'),L.scrollTop(Q).scrollLeft(ee)),T('.fancybox-overlay').remove().hide(),T.extend(this,{overlay:null,fixed:!1})},update:function(){var ee,Q='100%';this.overlay.width(Q).height('100%'),N?(ee=Math.max(S.documentElement.offsetWidth,S.body.offsetWidth),W.width()>ee&&(Q=W.width())):W.width()>L.width()&&(Q=W.width()),this.overlay.width(Q).height(W.height())},onReady:function(Q,ee){var te=this.overlay;T('.fancybox-overlay').stop(!0,!0),te||this.create(Q),Q.locked&&this.fixed&&ee.fixed&&(te||(this.margin=!!(W.height()>L.height())&&T('html').css('margin-right').replace('px','')),ee.locked=this.overlay.append(ee.wrap),ee.fixed=!1),!0===Q.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(Q,ee){var te,ie;ee.locked&&(!1!==this.margin&&(T('*').filter(function(){return'fixed'===T(this).css('position')&&!T(this).hasClass('fancybox-overlay')&&!T(this).hasClass('fancybox-wrap')}).addClass('fancybox-margin'),this.el.addClass('fancybox-margin')),te=L.scrollTop(),ie=L.scrollLeft(),this.el.addClass('fancybox-lock'),L.scrollTop(te).scrollLeft(ie)),this.open(Q)},onUpdate:function(){this.fixed||this.update()},afterClose:function(Q){this.overlay&&!M.coming&&this.overlay.fadeOut(Q.speedOut,T.proxy(this.close,this))}},M.helpers.title={defaults:{type:'float',position:'bottom'},beforeShow:function(Q){var ee=M.current,te=ee.title,ie=Q.type;T.isFunction(te)&&(te=te.call(ee.element,ee));X(te)&&''!==T.trim(te)&&(ee=T('<div class="fancybox-title fancybox-title-'+ie+'-wrap">'+te+'</div>'),'inside'===ie?ie=M.skin:'outside'===ie?ie=M.wrap:'over'===ie?ie=M.inner:(ie=M.skin,ee.appendTo('body'),N&&ee.width(ee.width()),ee.wrapInner('<span class="child"></span>'),M.current.margin[2]+=Math.abs(Z(ee.css('margin-bottom')))),ee['top'===Q.position?'prependTo':'appendTo'](ie))}},T.fn.fancybox=function(Q){var ee,te=T(this),ie=this.selector||'',se=function(oe){var le,re,ae=T(this).blur(),ne=ee;oe.ctrlKey||oe.altKey||oe.shiftKey||oe.metaKey||ae.is('.fancybox-wrap')||(le=Q.groupAttr||'data-fancybox-group',re=ae.attr(le),re||(le='rel',re=ae.get(0)[le]),re&&''!==re&&'nofollow'!==re&&(ae=ie.length?T(ie):te,ae=ae.filter('['+le+'="'+re+'"]'),ne=ae.index(this)),Q.index=ne,!1!==M.open(ae,Q)&&oe.preventDefault())};return Q=Q||{},ee=Q.index||0,ie&&!1!==Q.live?W.undelegate(ie,'click.fb-start').delegate(ie+':not(\'.fancybox-item, .fancybox-nav\')','click.fb-start',se):te.unbind('click.fb-start').bind('click.fb-start',se),this.filter('[data-fancybox-start=1]').trigger('click'),this},W.ready(function(){var Q,ee;if(T.scrollbarWidth===P&&(T.scrollbarWidth=function(){var ie=T('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo('body'),se=ie.children(),se=se.innerWidth()-se.height(99).innerWidth();return ie.remove(),se}),T.support.fixedPosition===P){Q=T.support,ee=T('<div style="position:fixed;top:20px;"></div>').appendTo('body');var te=20===ee[0].offsetTop||15===ee[0].offsetTop;ee.remove(),Q.fixedPosition=te}T.extend(M.defaults,{scrollbarWidth:T.scrollbarWidth(),fixed:T.support.fixedPosition,parent:T('body')}),Q=T(_).width(),O.addClass('fancybox-lock-test'),ee=T(_).width(),O.removeClass('fancybox-lock-test'),T('<style type=\'text/css\'>.fancybox-margin{margin-right:'+(ee-Q)+'px;}</style>').appendTo('head')})}(window,document,jQuery),function(_){var S=_.fancybox;S.helpers.thumbs={defaults:{width:50,height:50,position:'bottom',source:function(T){var P;return T.element&&(P=_(T.element).find('img').attr('src')),!P&&'image'===T.type&&T.href&&(P=T.href),P},stationary:!1},wrap:null,list:null,width:0,init:function(T,P){var L,O=this,W=T.width,M=T.height,N=T.source;L='';for(var R=0;R<P.group.length;R++)L+='<li><a style="width:'+W+'px;height:'+M+'px;" href="javascript:jQuery.fancybox.jumpto('+R+');"></a></li>';this.wrap=_('<div id="fancybox-thumbs"></div>').addClass(T.position).appendTo('body'),this.list=_('<ul>'+L+'</ul>').appendTo(this.wrap),_.each(P.group,function(V){var X=P.group[V],Y=N(X);Y&&_('<img />').load(function(){var Q,ee,te,Z=this.width,K=this.height;O.list&&Z&&K&&(Q=Z/W,ee=K/M,te=O.list.children().eq(V).find('a'),1<=Q&&1<=ee&&(Q>ee?(Z=Math.floor(Z/ee),K=M):(Z=W,K=Math.floor(K/Q))),_(this).css({width:Z,height:K,top:Math.floor(M/2-K/2),left:Math.floor(W/2-Z/2)}),te.width(W).height(M),_(this).hide().appendTo(te).fadeIn(300))}).attr('src',Y).attr('title',X.title)}),this.width=this.list.children().eq(0).outerWidth(!0);var U=T.stationary?Math.floor(0.5*_(window).width()-0.5*(this.width*P.group.length)):Math.floor(0.5*_(window).width()-(P.index*this.width+0.5*this.width));this.list.width(this.width*(P.group.length+1)).css('left',U)},beforeLoad:function(T,P){return 2>P.group.length?void(P.helpers.thumbs=!1):void(P.margin['top'===T.position?0:2]+=T.height+15)},afterShow:function(T,P){this.list?this.onUpdate(T,P):this.init(T,P),this.list.children().removeClass('active').eq(P.index).addClass('active')},onUpdate:function(T,P){this.list&&!T.stationary&&this.list.stop(!0).animate({left:Math.floor(0.5*_(window).width()-(P.index*this.width+0.5*this.width))},500)},beforeClose:function(){this.wrap&&this.wrap.remove(),this.wrap=null,this.list=null,this.width=0}}}(jQuery),function(_){var S,T={className:'autosizejs',append:'',callback:!1},P='hidden',O='border-box',L='lineHeight',M=['fontFamily','fontSize','fontWeight','fontStyle','letterSpacing','textTransform','wordSpacing','textIndent'],N='oninput',R='onpropertychange',U=_('<textarea tabindex="-1" style="position:absolute; top:-9999px; left:-9999px; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden;"/>').data('autosize',!0)[0];U.style.lineHeight='99px','99px'===_(U).css(L)&&M.push(L),U.style.lineHeight='',_.fn.autosize=function(V){return V=_.extend({},T,V||{}),U.parentNode!==document.body&&_(document.body).append(U),this.each(function(){function X(){S=Q,U.className=V.className,_.each(M,function(ne,le){U.style[le]=ee.css(le)})}function Y(){var ne,le,re;S!==Q&&X(),Z||(Z=!0,U.value=Q.value+V.append,U.style.overflowY=Q.style.overflowY,re=parseInt(Q.style.height,10),U.style.width=ee.width()+'px',U.scrollTop=0,U.scrollTop=9e4,ne=U.scrollTop,ne>ie?(ne=ie,le='scroll'):te>ne&&(ne=te),ne+=se,Q.style.overflowY=le||P,re!==ne&&(Q.style.height=ne+'px',ae&&V.callback.call(Q)),setTimeout(function(){Z=!1},1))}var Z,K,Q=this,ee=_(Q),te=ee.height(),ie=parseInt(ee.css('maxHeight'),10),se=0,oe=Q.value,ae=_.isFunction(V.callback);ee.data('autosize')||((ee.css('box-sizing')===O||ee.css('-moz-box-sizing')===O||ee.css('-webkit-box-sizing')===O)&&(se=ee.outerHeight()-ee.height()),K='none'===ee.css('resize')?'none':'horizontal',ee.css({overflow:P,overflowY:P,wordWrap:'break-word',resize:K}).data('autosize',!0),ie=ie&&0<ie?ie:9e4,R in Q?N in Q?Q[N]=Q.onkeyup=Y:Q[R]=Y:(Q[N]=Y,Q.value='',Q.value=oe),_(window).resize(Y),ee.bind('autosize',Y),Y())})}}(window.jQuery||window.Zepto),!function(_,S){'function'==typeof define&&define.amd?define(['jquery'],S):S(_.jQuery)}(this,function(_){'use strict';function S(U){if(L.webkit&&!U)return{height:0,width:0};if(!L.data.outer){var V={border:'none','box-sizing':'content-box',height:'200px',margin:'0',padding:'0',width:'200px'};L.data.inner=_('<div>').css(_.extend({},V)),L.data.outer=_('<div>').css(_.extend({left:'-1000px',overflow:'scroll',position:'absolute',top:'-1000px'},V)).append(L.data.inner).appendTo('body')}return L.data.outer.scrollLeft(1e3).scrollTop(1e3),{height:Math.ceil(L.data.outer.offset().top-L.data.inner.offset().top||0),width:Math.ceil(L.data.outer.offset().left-L.data.inner.offset().left||0)}}function T(){var U=S(!0);return!(U.height||U.width)}function P(U){var V=U.originalEvent;return V.axis&&V.axis===V.HORIZONTAL_AXIS?!1:!V.wheelDeltaX}var L={data:{index:0,name:'scrollbar'},macosx:/mac/i.test(navigator.platform),mobile:/android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent),overlay:null,scroll:null,scrolls:[],webkit:/webkit/i.test(navigator.userAgent)&&!/edge\/\d+/i.test(navigator.userAgent)};L.scrolls.add=function(U){this.remove(U).push(U)},L.scrolls.remove=function(U){for(;0<=_.inArray(U,this);)this.splice(_.inArray(U,this),1);return this};var W={autoScrollSize:!0,autoUpdate:!0,debug:!1,disableBodyScroll:!1,duration:200,ignoreMobile:!1,ignoreOverlay:!1,scrollStep:30,showArrows:!1,stepScrolling:!0,scrollx:null,scrolly:null,onDestroy:null,onInit:null,onScroll:null,onUpdate:null},M=function(U){L.scroll||(L.overlay=T(),L.scroll=S(),R(),_(window).resize(function(){var V=!1;if(L.scroll&&(L.scroll.height||L.scroll.width)){var X=S();(X.height!==L.scroll.height||X.width!==L.scroll.width)&&(L.scroll=X,V=!0)}R(V)})),this.container=U,this.namespace='.scrollbar_'+L.data.index++,this.options=_.extend({},W,window.jQueryScrollbarOptions||{}),this.scrollTo=null,this.scrollx={},this.scrolly={},U.data(L.data.name,this),L.scrolls.add(this)};M.prototype={destroy:function(){if(this.wrapper){this.container.removeData(L.data.name),L.scrolls.remove(this);var U=this.container.scrollLeft(),V=this.container.scrollTop();this.container.insertBefore(this.wrapper).css({height:'',margin:'','max-height':''}).removeClass('scroll-content scroll-scrollx_visible scroll-scrolly_visible').off(this.namespace).scrollLeft(U).scrollTop(V),this.scrollx.scroll.removeClass('scroll-scrollx_visible').find('div').andSelf().off(this.namespace),this.scrolly.scroll.removeClass('scroll-scrolly_visible').find('div').andSelf().off(this.namespace),this.wrapper.remove(),_(document).add('body').off(this.namespace),_.isFunction(this.options.onDestroy)&&this.options.onDestroy.apply(this,[this.container])}},init:function(U){var V=this,X=this.container,Y=this.containerWrapper||X,Z=this.namespace,K=_.extend(this.options,U||{}),Q={x:this.scrollx,y:this.scrolly},ee=this.wrapper,te={scrollLeft:X.scrollLeft(),scrollTop:X.scrollTop()};if(L.mobile&&K.ignoreMobile||L.overlay&&K.ignoreOverlay||L.macosx&&!L.webkit)return!1;if(ee)Y.css({height:'auto','margin-bottom':-1*L.scroll.height+'px','margin-right':-1*L.scroll.width+'px','max-height':''});else{if(this.wrapper=ee=_('<div>').addClass('scroll-wrapper').addClass(X.attr('class')).css('position','absolute'==X.css('position')?'absolute':'relative').insertBefore(X).append(X),X.is('textarea')&&(this.containerWrapper=Y=_('<div>').insertBefore(X).append(X),ee.addClass('scroll-textarea')),Y.addClass('scroll-content').css({height:'auto','margin-bottom':-1*L.scroll.height+'px','margin-right':-1*L.scroll.width+'px','max-height':''}),X.on('scroll'+Z,function(){_.isFunction(K.onScroll)&&K.onScroll.call(V,{maxScroll:Q.y.maxScrollOffset,scroll:X.scrollTop(),size:Q.y.size,visible:Q.y.visible},{maxScroll:Q.x.maxScrollOffset,scroll:X.scrollLeft(),size:Q.x.size,visible:Q.x.visible}),Q.x.isVisible&&Q.x.scroll.bar.css('left',X.scrollLeft()*Q.x.kx+'px'),Q.y.isVisible&&Q.y.scroll.bar.css('top',X.scrollTop()*Q.y.kx+'px')}),ee.on('scroll'+Z,function(){ee.scrollTop(0).scrollLeft(0)}),K.disableBodyScroll){var ie=function(se){P(se)?Q.y.isVisible&&Q.y.mousewheel(se):Q.x.isVisible&&Q.x.mousewheel(se)};ee.on('MozMousePixelScroll'+Z,ie),ee.on('mousewheel'+Z,ie),L.mobile&&ee.on('touchstart'+Z,function(se){var oe=se.originalEvent.touches&&se.originalEvent.touches[0]||se,ae={pageX:oe.pageX,pageY:oe.pageY},ne={left:X.scrollLeft(),top:X.scrollTop()};_(document).on('touchmove'+Z,function(le){var re=le.originalEvent.targetTouches&&le.originalEvent.targetTouches[0]||le;X.scrollLeft(ne.left+ae.pageX-re.pageX),X.scrollTop(ne.top+ae.pageY-re.pageY),le.preventDefault()}),_(document).on('touchend'+Z,function(){_(document).off(Z)})})}_.isFunction(K.onInit)&&K.onInit.apply(this,[X])}_.each(Q,function(se,oe){var ae=null,ne=1,le='x'===se?'scrollLeft':'scrollTop',re=K.scrollStep,de=function(){var pe=X[le]();X[le](pe+re),1==ne&&pe+re>=ce&&(pe=X[le]()),-1==ne&&ce>=pe+re&&(pe=X[le]()),X[le]()==pe&&ae&&ae()},ce=0;oe.scroll||(oe.scroll=V._getScroll(K['scroll'+se]).addClass('scroll-'+se),K.showArrows&&oe.scroll.addClass('scroll-element_arrows_visible'),oe.mousewheel=function(pe){if(!oe.isVisible||'x'===se&&P(pe))return!0;if('y'===se&&!P(pe))return Q.x.mousewheel(pe),!0;var ue=-1*pe.originalEvent.wheelDelta||pe.originalEvent.detail,he=oe.size-oe.visible-oe.offset;return(0<ue&&he>ce||0>ue&&0<ce)&&(ce+=ue,0>ce&&(ce=0),ce>he&&(ce=he),V.scrollTo=V.scrollTo||{},V.scrollTo[le]=ce,setTimeout(function(){V.scrollTo&&(X.stop().animate(V.scrollTo,240,'linear',function(){ce=X[le]()}),V.scrollTo=null)},1)),pe.preventDefault(),!1},oe.scroll.on('MozMousePixelScroll'+Z,oe.mousewheel).on('mousewheel'+Z,oe.mousewheel).on('mouseenter'+Z,function(){ce=X[le]()}),oe.scroll.find('.scroll-arrow, .scroll-element_track').on('mousedown'+Z,function(pe){if(1!=pe.which)return!0;ne=1;var ue={eventOffset:pe['x'===se?'pageX':'pageY'],maxScrollValue:oe.size-oe.visible-oe.offset,scrollbarOffset:oe.scroll.bar.offset()['x'===se?'left':'top'],scrollbarSize:oe.scroll.bar['x'===se?'outerWidth':'outerHeight']()},he=0,fe=0;return _(this).hasClass('scroll-arrow')?(ne=_(this).hasClass('scroll-arrow_more')?1:-1,re=K.scrollStep*ne,ce=0<ne?ue.maxScrollValue:0):(ne=ue.eventOffset>ue.scrollbarOffset+ue.scrollbarSize?1:ue.eventOffset<ue.scrollbarOffset?-1:0,re=Math.round(.75*oe.visible)*ne,ce=ue.eventOffset-ue.scrollbarOffset-(K.stepScrolling?1==ne?ue.scrollbarSize:0:Math.round(ue.scrollbarSize/2)),ce=X[le]()+ce/oe.kx),V.scrollTo=V.scrollTo||{},V.scrollTo[le]=K.stepScrolling?X[le]()+re:ce,K.stepScrolling&&(ae=function(){ce=X[le](),clearInterval(fe),clearTimeout(he),he=0,fe=0},he=setTimeout(function(){fe=setInterval(de,40)},K.duration+100)),setTimeout(function(){V.scrollTo&&(X.animate(V.scrollTo,K.duration),V.scrollTo=null)},1),V._handleMouseDown(ae,pe)}),oe.scroll.bar.on('mousedown'+Z,function(pe){if(1!=pe.which)return!0;var ue=pe['x'===se?'pageX':'pageY'],he=X[le]();return oe.scroll.addClass('scroll-draggable'),_(document).on('mousemove'+Z,function(fe){var me=parseInt((fe['x'===se?'pageX':'pageY']-ue)/oe.kx,10);X[le](he+me)}),V._handleMouseDown(function(){oe.scroll.removeClass('scroll-draggable'),ce=X[le]()},pe)}))}),_.each(Q,function(se,oe){var ae='scroll-scroll'+se+'_visible',ne='x'==se?Q.y:Q.x;oe.scroll.removeClass(ae),ne.scroll.removeClass(ae),Y.removeClass(ae)}),_.each(Q,function(se,oe){_.extend(oe,'x'==se?{offset:parseInt(X.css('left'),10)||0,size:X.prop('scrollWidth'),visible:ee.width()}:{offset:parseInt(X.css('top'),10)||0,size:X.prop('scrollHeight'),visible:ee.height()})}),this._updateScroll('x',this.scrollx),this._updateScroll('y',this.scrolly),_.isFunction(K.onUpdate)&&K.onUpdate.apply(this,[X]),_.each(Q,function(se,oe){var ae='x'===se?'left':'top',ne='x'===se?'outerWidth':'outerHeight',le='x'===se?'width':'height',re=parseInt(X.css(ae),10)||0,de=oe.size,ce=oe.visible+re,pe=oe.scroll.size[ne]()+(parseInt(oe.scroll.size.css(ae),10)||0);K.autoScrollSize&&(oe.scrollbarSize=parseInt(pe*ce/de,10),oe.scroll.bar.css(le,oe.scrollbarSize+'px')),oe.scrollbarSize=oe.scroll.bar[ne](),oe.kx=(pe-oe.scrollbarSize)/(de-ce)||1,oe.maxScrollOffset=de-ce}),X.scrollLeft(te.scrollLeft).scrollTop(te.scrollTop).trigger('scroll')},_getScroll:function(U){var V={advanced:['<div class="scroll-element">','<div class="scroll-element_corner"></div>','<div class="scroll-arrow scroll-arrow_less"></div>','<div class="scroll-arrow scroll-arrow_more"></div>','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_inner-wrapper">','<div class="scroll-element_inner scroll-element_track">','<div class="scroll-element_inner-bottom"></div>','</div>','</div>','<div class="scroll-bar">','<div class="scroll-bar_body">','<div class="scroll-bar_body-inner"></div>','</div>','<div class="scroll-bar_bottom"></div>','<div class="scroll-bar_center"></div>','</div>','</div>','</div>'].join(''),simple:['<div class="scroll-element">','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_track"></div>','<div class="scroll-bar"></div>','</div>','</div>'].join('')};return V[U]&&(U=V[U]),U||(U=V.simple),U='string'==typeof U?_(U).appendTo(this.wrapper):_(U),_.extend(U,{bar:U.find('.scroll-bar'),size:U.find('.scroll-element_size'),track:U.find('.scroll-element_track')}),U},_handleMouseDown:function(U,V){var X=this.namespace;return _(document).on('blur'+X,function(){_(document).add('body').off(X),U&&U()}),_(document).on('dragstart'+X,function(Y){return Y.preventDefault(),!1}),_(document).on('mouseup'+X,function(){_(document).add('body').off(X),U&&U()}),_('body').on('selectstart'+X,function(Y){return Y.preventDefault(),!1}),V&&V.preventDefault(),!1},_updateScroll:function(U,V){var X=this.container,Y=this.containerWrapper||X,Z='scroll-scroll'+U+'_visible',K='x'===U?this.scrolly:this.scrollx,Q=parseInt(this.container.css('x'===U?'left':'top'),10)||0,ee=this.wrapper,te=V.size,ie=V.visible+Q;V.isVisible=1<te-ie,V.isVisible?(V.scroll.addClass(Z),K.scroll.addClass(Z),Y.addClass(Z)):(V.scroll.removeClass(Z),K.scroll.removeClass(Z),Y.removeClass(Z)),'y'===U&&(X.is('textarea')||ie>te?Y.css({height:ie+L.scroll.height+'px','max-height':'none'}):Y.css({'max-height':ie+L.scroll.height+'px'})),(V.size!=X.prop('scrollWidth')||K.size!=X.prop('scrollHeight')||V.visible!=ee.width()||K.visible!=ee.height()||V.offset!=(parseInt(X.css('left'),10)||0)||K.offset!=(parseInt(X.css('top'),10)||0))&&(_.extend(this.scrollx,{offset:parseInt(X.css('left'),10)||0,size:X.prop('scrollWidth'),visible:ee.width()}),_.extend(this.scrolly,{offset:parseInt(X.css('top'),10)||0,size:this.container.prop('scrollHeight'),visible:ee.height()}),this._updateScroll('x'===U?'y':'x',K))}};_.fn.scrollbar=function(U,V){return'string'!=typeof U&&(V=U,U='init'),'undefined'==typeof V&&(V=[]),_.isArray(V)||(V=[V]),this.not('body, .scroll-wrapper').each(function(){var X=_(this),Y=X.data(L.data.name);(Y||'init'===U)&&(Y||(Y=new M(X)),Y[U]&&Y[U].apply(Y,V))}),this},_.fn.scrollbar.options=W;var R=function(){var U=0,V=0;return function(X){var Y,Z,K,Q,ee,te,ie;for(Y=0;Y<L.scrolls.length;Y++)Q=L.scrolls[Y],Z=Q.container,K=Q.options,ee=Q.wrapper,te=Q.scrollx,ie=Q.scrolly,(X||K.autoUpdate&&ee&&ee.is(':visible')&&(Z.prop('scrollWidth')!=te.size||Z.prop('scrollHeight')!=ie.size||ee.width()!=te.visible||ee.height()!=ie.visible))&&(Q.init(),K.debug&&(window.console&&console.log({scrollHeight:Z.prop('scrollHeight')+':'+Q.scrolly.size,scrollWidth:Z.prop('scrollWidth')+':'+Q.scrollx.size,visibleHeight:ee.height()+':'+Q.scrolly.visible,visibleWidth:ee.width()+':'+Q.scrollx.visible},!0),V++));clearTimeout(U),U=setTimeout(R,300)}}();!window.angular||function(U){U.module('jQueryScrollbar',[]).provider('jQueryScrollbar',function(){var V=W;return{setOptions:function(X){U.extend(V,X)},$get:function(){return{options:U.copy(V)}}}}).directive('jqueryScrollbar',['jQueryScrollbar','$parse',function(V,X){return{restrict:'AC',link:function(Y,Z,K){var Q=X(K.jqueryScrollbar),ee=Q(Y);Z.scrollbar(ee||V.options).on('$destroy',function(){Z.scrollbar('destroy')})}}}])}(window.angular)}),!function(_){'function'==typeof define&&define.amd?define(['jquery'],_):_('object'==typeof exports?require('jquery'):jQuery)}(function(_){var S,T=navigator.userAgent,P=/iphone/i.test(T),O=/chrome/i.test(T),L=/android/i.test(T);_.mask={definitions:{9:'[0-9]',a:'[A-Za-z]','*':'[A-Za-z0-9]'},autoclear:!0,dataName:'rawMaskFn',placeholder:'_'},_.fn.extend({caret:function(W,M){var N;if(0!==this.length&&!this.is(':hidden'))return'number'==typeof W?(M='number'==typeof M?M:W,this.each(function(){this.setSelectionRange?this.setSelectionRange(W,M):this.createTextRange&&(N=this.createTextRange(),N.collapse(!0),N.moveEnd('character',M),N.moveStart('character',W),N.select())})):(this[0].setSelectionRange?(W=this[0].selectionStart,M=this[0].selectionEnd):document.selection&&document.selection.createRange&&(N=document.selection.createRange(),W=0-N.duplicate().moveStart('character',-1e5),M=W+N.text.length),{begin:W,end:M})},unmask:function(){return this.trigger('unmask')},mask:function(W,M){var N,R,U,V,X,Y,Z,K;if(!W&&0<this.length){N=_(this[0]);var Q=N.data(_.mask.dataName);return Q?Q():void 0}return M=_.extend({autoclear:_.mask.autoclear,placeholder:_.mask.placeholder,completed:null},M),R=_.mask.definitions,U=[],V=Z=W.length,X=null,_.each(W.split(''),function(ee,te){'?'==te?(Z--,V=ee):R[te]?(U.push(new RegExp(R[te])),null===X&&(X=U.length-1),V>ee&&(Y=U.length-1)):U.push(null)}),this.trigger('unmask').each(function(){function ee(){if(M.completed){for(var ve=X;Y>=ve;ve++)if(U[ve]&&fe[ve]===te(ve))return;M.completed.call(he)}}function te(ve){return M.placeholder.charAt(ve<M.placeholder.length?ve:0)}function ie(ve){for(;++ve<Z&&!U[ve];);return ve}function se(ve){for(;0<=--ve&&!U[ve];);return ve}function oe(ve,we){var be,ye;if(!(0>ve)){for(be=ve,ye=ie(we);Z>be;be++)if(U[be]){if(!(Z>ye&&U[be].test(fe[ye])))break;fe[be]=fe[ye],fe[ye]=te(ye),ye=ie(ye)}pe(),he.caret(Math.max(X,ve))}}function ae(ve){var we,be,ye,ke;for(we=ve,be=te(ve);Z>we;we++)if(U[we]){if(ye=ie(we),ke=fe[we],fe[we]=be,!(Z>ye&&U[ye].test(ke)))break;be=ke}}function le(){ue(),he.val()!=ge&&he.change()}function ce(ve,we){var be;for(be=ve;we>be&&Z>be;be++)U[be]&&(fe[be]=te(be))}function pe(){he.val(fe.join(''))}function ue(ve){var we,be,ye,ke=he.val(),Ce=-1;for(we=0,ye=0;Z>we;we++)if(U[we]){for(fe[we]=te(we);ye++<ke.length;)if(be=ke.charAt(ye-1),U[we].test(be)){fe[we]=be,Ce=we;break}if(ye>ke.length){ce(we+1,Z);break}}else fe[we]===ke.charAt(ye)&&ye++,V>we&&(Ce=we);return ve?pe():V>Ce+1?M.autoclear||fe.join('')===me?(he.val()&&he.val(''),ce(0,Z)):pe():(pe(),he.val(he.val().substring(0,Ce+1))),V?we:X}var he=_(this),fe=_.map(W.split(''),function(ve,we){return'?'==ve?void 0:R[ve]?te(we):ve}),me=fe.join(''),ge=he.val();he.data(_.mask.dataName,function(){return _.map(fe,function(ve,we){return U[we]&&ve!=te(we)?ve:null}).join('')}),he.one('unmask',function(){he.off('.mask').removeData(_.mask.dataName)}).on('focus.mask',function(){if(!he.prop('readonly')){clearTimeout(S);var ve;ge=he.val(),ve=ue(),S=setTimeout(function(){he.get(0)===document.activeElement&&(pe(),ve==W.replace('?','').length?he.caret(0,ve):he.caret(ve))},10)}}).on('blur.mask',le).on('keydown.mask',function(ve){if(!he.prop('readonly')){var we,be,ye,ke=ve.which||ve.keyCode;K=he.val(),8===ke||46===ke||P&&127===ke?(we=he.caret(),be=we.begin,ye=we.end,0==ye-be&&(be=46===ke?ye=ie(be-1):se(be),ye=46===ke?ie(ye):ye),ce(be,ye),oe(be,ye-1),ve.preventDefault()):13===ke?le.call(this,ve):27===ke&&(he.val(ge),he.caret(0,ue()),ve.preventDefault())}}).on('keypress.mask',function(ve){if(!he.prop('readonly')){var we,be,ye,ke=ve.which||ve.keyCode,Ce=he.caret();if(!(ve.ctrlKey||ve.altKey||ve.metaKey||32>ke)&&ke&&13!==ke){if(0!=Ce.end-Ce.begin&&(ce(Ce.begin,Ce.end),oe(Ce.begin,Ce.end-1)),we=ie(Ce.begin-1),Z>we&&(be=String.fromCharCode(ke),U[we].test(be))){if(ae(we),fe[we]=be,pe(),ye=ie(we),L){var xe=function(){_.proxy(_.fn.caret,he,ye)()};setTimeout(xe,0)}else he.caret(ye);Ce.begin<=Y&&ee()}ve.preventDefault()}}}).on('input.mask paste.mask',function(){he.prop('readonly')||setTimeout(function(){var ve=ue(!0);he.caret(ve),ee()},0)}),O&&L&&he.off('input.mask').on('input.mask',function(){var ve=he.val(),we=he.caret();if(K&&K.length&&K.length>ve.length){for(ue(!0);0<we.begin&&!U[we.begin-1];)we.begin--;if(0===we.begin)for(;we.begin<X&&!U[we.begin];)we.begin++;he.caret(we.begin,we.begin)}else{for(ue(!0);we.begin<Z&&!U[we.begin];)we.begin++;he.caret(we.begin,we.begin)}ee()}),ue()})}})}),function(_){'function'==typeof define&&define.amd?define(['jquery'],_):_(jQuery)}(function(_){function S(W,M){var N,R,U,V=W.nodeName.toLowerCase();return'area'===V?(N=W.parentNode,R=N.name,W.href&&R&&'map'===N.nodeName.toLowerCase()&&(U=_('img[usemap=\'#'+R+'\']')[0],!!U&&T(U))):(/^(input|select|textarea|button|object)$/.test(V)?!W.disabled:'a'===V?W.href||M:M)&&T(W)}function T(W){return _.expr.filters.visible(W)&&!_(W).parents().addBack().filter(function(){return'hidden'===_.css(this,'visibility')}).length}_.ui=_.ui||{},_.extend(_.ui,{version:'1.11.4',keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),_.fn.extend({scrollParent:function(W){var M=this.css('position'),R=W?/(auto|scroll|hidden)/:/(auto|scroll)/,U=this.parents().filter(function(){var V=_(this);return'absolute'===M&&'static'===V.css('position')?!1:R.test(V.css('overflow')+V.css('overflow-y')+V.css('overflow-x'))}).eq(0);return'fixed'!==M&&U.length?U:_(this[0].ownerDocument||document)},uniqueId:function(){var W=0;return function(){return this.each(function(){this.id||(this.id='ui-id-'+ ++W)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&_(this).removeAttr('id')})}}),_.extend(_.expr[':'],{data:_.expr.createPseudo?_.expr.createPseudo(function(W){return function(M){return!!_.data(M,W)}}):function(W,M,N){return!!_.data(W,N[3])},focusable:function(W){return S(W,!isNaN(_.attr(W,'tabindex')))},tabbable:function(W){var M=_.attr(W,'tabindex'),N=isNaN(M);return(N||0<=M)&&S(W,!N)}}),_('<a>').outerWidth(1).jquery||_.each(['Width','Height'],function(W,M){function N(X,Y,Z,K){return _.each(R,function(){Y-=parseFloat(_.css(X,'padding'+this))||0,Z&&(Y-=parseFloat(_.css(X,'border'+this+'Width'))||0),K&&(Y-=parseFloat(_.css(X,'margin'+this))||0)}),Y}var R='Width'===M?['Left','Right']:['Top','Bottom'],U=M.toLowerCase(),V={innerWidth:_.fn.innerWidth,innerHeight:_.fn.innerHeight,outerWidth:_.fn.outerWidth,outerHeight:_.fn.outerHeight};_.fn['inner'+M]=function(X){return void 0===X?V['inner'+M].call(this):this.each(function(){_(this).css(U,N(this,X)+'px')})},_.fn['outer'+M]=function(X,Y){return'number'==typeof X?this.each(function(){_(this).css(U,N(this,X,!0,Y)+'px')}):V['outer'+M].call(this,X)}}),_.fn.addBack||(_.fn.addBack=function(W){return this.add(null==W?this.prevObject:this.prevObject.filter(W))}),_('<a>').data('a-b','a').removeData('a-b').data('a-b')&&(_.fn.removeData=function(W){return function(M){return arguments.length?W.call(this,_.camelCase(M)):W.call(this)}}(_.fn.removeData)),_.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),_.fn.extend({focus:function(W){return function(M,N){return'number'==typeof M?this.each(function(){var R=this;setTimeout(function(){_(R).focus(),N&&N.call(R)},M)}):W.apply(this,arguments)}}(_.fn.focus),disableSelection:function(){var W='onselectstart'in document.createElement('div')?'selectstart':'mousedown';return function(){return this.bind(W+'.ui-disableSelection',function(M){M.preventDefault()})}}(),enableSelection:function(){return this.unbind('.ui-disableSelection')},zIndex:function(W){if(void 0!==W)return this.css('zIndex',W);if(this.length)for(var M,N,R=_(this[0]);R.length&&R[0]!==document;){if(M=R.css('position'),('absolute'===M||'relative'===M||'fixed'===M)&&(N=parseInt(R.css('zIndex'),10),!isNaN(N)&&0!==N))return N;R=R.parent()}return 0}}),_.ui.plugin={add:function(W,M,N){var R,U=_.ui[W].prototype;for(R in N)U.plugins[R]=U.plugins[R]||[],U.plugins[R].push([M,N[R]])},call:function(W,M,N,R){var U,V=W.plugins[M];if(V&&(R||W.element[0].parentNode&&11!==W.element[0].parentNode.nodeType))for(U=0;V.length>U;U++)W.options[V[U][0]]&&V[U][1].apply(W.element,N)}};var P=0,O=Array.prototype.slice;_.cleanData=function(W){return function(M){var N,R,U;for(U=0;null!=(R=M[U]);U++)try{N=_._data(R,'events'),N&&N.remove&&_(R).triggerHandler('remove')}catch(V){}W(M)}}(_.cleanData),_.widget=function(W,M,N){var R,U,V,X,Y={},Z=W.split('.')[0];return W=W.split('.')[1],R=Z+'-'+W,N||(N=M,M=_.Widget),_.expr[':'][R.toLowerCase()]=function(K){return!!_.data(K,R)},_[Z]=_[Z]||{},U=_[Z][W],V=_[Z][W]=function(K,Q){return this._createWidget?(arguments.length&&this._createWidget(K,Q),void 0):new V(K,Q)},_.extend(V,U,{version:N.version,_proto:_.extend({},N),_childConstructors:[]}),X=new M,X.options=_.widget.extend({},X.options),_.each(N,function(K,Q){return _.isFunction(Q)?(Y[K]=function(){var ee=function(){return M.prototype[K].apply(this,arguments)},te=function(ie){return M.prototype[K].apply(this,ie)};return function(){var ie,se=this._super,oe=this._superApply;return this._super=ee,this._superApply=te,ie=Q.apply(this,arguments),this._super=se,this._superApply=oe,ie}}(),void 0):(Y[K]=Q,void 0)}),V.prototype=_.widget.extend(X,{widgetEventPrefix:U?X.widgetEventPrefix||W:W},Y,{constructor:V,namespace:Z,widgetName:W,widgetFullName:R}),U?(_.each(U._childConstructors,function(K,Q){var ee=Q.prototype;_.widget(ee.namespace+'.'+ee.widgetName,V,Q._proto)}),delete U._childConstructors):M._childConstructors.push(V),_.widget.bridge(W,V),V},_.widget.extend=function(W){for(var M,N,R=O.call(arguments,1),U=0,V=R.length;V>U;U++)for(M in R[U])N=R[U][M],R[U].hasOwnProperty(M)&&void 0!==N&&(W[M]=_.isPlainObject(N)?_.isPlainObject(W[M])?_.widget.extend({},W[M],N):_.widget.extend({},N):N);return W},_.widget.bridge=function(W,M){var N=M.prototype.widgetFullName||W;_.fn[W]=function(R){var U='string'==typeof R,V=O.call(arguments,1),X=this;return U?this.each(function(){var Y,Z=_.data(this,N);return'instance'===R?(X=Z,!1):Z?_.isFunction(Z[R])&&'_'!==R.charAt(0)?(Y=Z[R].apply(Z,V),Y!==Z&&void 0!==Y?(X=Y&&Y.jquery?X.pushStack(Y.get()):Y,!1):void 0):_.error('no such method \''+R+'\' for '+W+' widget instance'):_.error('cannot call methods on '+W+' prior to initialization; attempted to call method \''+R+'\'')}):(V.length&&(R=_.widget.extend.apply(null,[R].concat(V))),this.each(function(){var Y=_.data(this,N);Y?(Y.option(R||{}),Y._init&&Y._init()):_.data(this,N,new M(R,this))})),X}},_.Widget=function(){},_.Widget._childConstructors=[],_.Widget.prototype={widgetName:'widget',widgetEventPrefix:'',defaultElement:'<div>',options:{disabled:!1,create:null},_createWidget:function(W,M){M=_(M||this.defaultElement||this)[0],this.element=_(M),this.uuid=P++,this.eventNamespace='.'+this.widgetName+this.uuid,this.bindings=_(),this.hoverable=_(),this.focusable=_(),M!==this&&(_.data(M,this.widgetFullName,this),this._on(!0,this.element,{remove:function(N){N.target===M&&this.destroy()}}),this.document=_(M.style?M.ownerDocument:M.document||M),this.window=_(this.document[0].defaultView||this.document[0].parentWindow)),this.options=_.widget.extend({},this.options,this._getCreateOptions(),W),this._create(),this._trigger('create',null,this._getCreateEventData()),this._init()},_getCreateOptions:_.noop,_getCreateEventData:_.noop,_create:_.noop,_init:_.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(_.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr('aria-disabled').removeClass(this.widgetFullName+'-disabled ui-state-disabled'),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass('ui-state-hover'),this.focusable.removeClass('ui-state-focus')},_destroy:_.noop,widget:function(){return this.element},option:function(W,M){var N,R,U,V=W;if(0===arguments.length)return _.widget.extend({},this.options);if('string'==typeof W)if(V={},N=W.split('.'),W=N.shift(),N.length){for(R=V[W]=_.widget.extend({},this.options[W]),U=0;N.length-1>U;U++)R[N[U]]=R[N[U]]||{},R=R[N[U]];if(W=N.pop(),1===arguments.length)return void 0===R[W]?null:R[W];R[W]=M}else{if(1===arguments.length)return void 0===this.options[W]?null:this.options[W];V[W]=M}return this._setOptions(V),this},_setOptions:function(W){for(var M in W)this._setOption(M,W[M]);return this},_setOption:function(W,M){return this.options[W]=M,'disabled'===W&&(this.widget().toggleClass(this.widgetFullName+'-disabled',!!M),M&&(this.hoverable.removeClass('ui-state-hover'),this.focusable.removeClass('ui-state-focus'))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(W,M,N){var R,U=this;'boolean'!=typeof W&&(N=M,M=W,W=!1),N?(M=R=_(M),this.bindings=this.bindings.add(M)):(N=M,M=this.element,R=this.widget()),_.each(N,function(V,X){function Y(){return W||!0!==U.options.disabled&&!_(this).hasClass('ui-state-disabled')?('string'==typeof X?U[X]:X).apply(U,arguments):void 0}'string'!=typeof X&&(Y.guid=X.guid=X.guid||Y.guid||_.guid++);var Z=V.match(/^([\w:-]*)\s*(.*)$/),K=Z[1]+U.eventNamespace,Q=Z[2];Q?R.delegate(Q,K,Y):M.bind(K,Y)})},_off:function(W,M){M=(M||'').split(' ').join(this.eventNamespace+' ')+this.eventNamespace,W.unbind(M).undelegate(M),this.bindings=_(this.bindings.not(W).get()),this.focusable=_(this.focusable.not(W).get()),this.hoverable=_(this.hoverable.not(W).get())},_delay:function(W,M){var R=this;return setTimeout(function(){return('string'==typeof W?R[W]:W).apply(R,arguments)},M||0)},_hoverable:function(W){this.hoverable=this.hoverable.add(W),this._on(W,{mouseenter:function(M){_(M.currentTarget).addClass('ui-state-hover')},mouseleave:function(M){_(M.currentTarget).removeClass('ui-state-hover')}})},_focusable:function(W){this.focusable=this.focusable.add(W),this._on(W,{focusin:function(M){_(M.currentTarget).addClass('ui-state-focus')},focusout:function(M){_(M.currentTarget).removeClass('ui-state-focus')}})},_trigger:function(W,M,N){var R,U,V=this.options[W];if(N=N||{},M=_.Event(M),M.type=(W===this.widgetEventPrefix?W:this.widgetEventPrefix+W).toLowerCase(),M.target=this.element[0],U=M.originalEvent)for(R in U)R in M||(M[R]=U[R]);return this.element.trigger(M,N),!(_.isFunction(V)&&!1===V.apply(this.element[0],[M].concat(N))||M.isDefaultPrevented())}},_.each({show:'fadeIn',hide:'fadeOut'},function(W,M){_.Widget.prototype['_'+W]=function(N,R,U){'string'==typeof R&&(R={effect:R});var V,X=R?!0===R||'number'==typeof R?M:R.effect||M:W;R=R||{},'number'==typeof R&&(R={duration:R}),V=!_.isEmptyObject(R),R.complete=U,R.delay&&N.delay(R.delay),V&&_.effects&&_.effects.effect[X]?N[W](R):X!==W&&N[X]?N[X](R.duration,R.easing,U):N.queue(function(Y){_(this)[W](),U&&U.call(N[0]),Y()})}}),_.widget;var L=!1;_(document).mouseup(function(){L=!1}),_.widget('ui.mouse',{version:'1.11.4',options:{cancel:'input,textarea,button,select,option',distance:1,delay:0},_mouseInit:function(){var W=this;this.element.bind('mousedown.'+this.widgetName,function(M){return W._mouseDown(M)}).bind('click.'+this.widgetName,function(M){return!0===_.data(M.target,W.widgetName+'.preventClickEvent')?(_.removeData(M.target,W.widgetName+'.preventClickEvent'),M.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind('.'+this.widgetName),this._mouseMoveDelegate&&this.document.unbind('mousemove.'+this.widgetName,this._mouseMoveDelegate).unbind('mouseup.'+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(W){if(!L){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(W),this._mouseDownEvent=W;var M=this,N=1===W.which,R='string'==typeof this.options.cancel&&W.target.nodeName&&_(W.target).closest(this.options.cancel).length;return N&&!R&&this._mouseCapture(W)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){M.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(W)&&this._mouseDelayMet(W)&&(this._mouseStarted=!1!==this._mouseStart(W),!this._mouseStarted)?(W.preventDefault(),!0):(!0===_.data(W.target,this.widgetName+'.preventClickEvent')&&_.removeData(W.target,this.widgetName+'.preventClickEvent'),this._mouseMoveDelegate=function(U){return M._mouseMove(U)},this._mouseUpDelegate=function(U){return M._mouseUp(U)},this.document.bind('mousemove.'+this.widgetName,this._mouseMoveDelegate).bind('mouseup.'+this.widgetName,this._mouseUpDelegate),W.preventDefault(),L=!0,!0)):!0}},_mouseMove:function(W){if(this._mouseMoved){if(_.ui.ie&&(!document.documentMode||9>document.documentMode)&&!W.button)return this._mouseUp(W);if(!W.which)return this._mouseUp(W)}return(W.which||W.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(W),W.preventDefault()):(this._mouseDistanceMet(W)&&this._mouseDelayMet(W)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,W),this._mouseStarted?this._mouseDrag(W):this._mouseUp(W)),!this._mouseStarted)},_mouseUp:function(W){return this.document.unbind('mousemove.'+this.widgetName,this._mouseMoveDelegate).unbind('mouseup.'+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,W.target===this._mouseDownEvent.target&&_.data(W.target,this.widgetName+'.preventClickEvent',!0),this._mouseStop(W)),L=!1,!1},_mouseDistanceMet:function(W){return Math.max(Math.abs(this._mouseDownEvent.pageX-W.pageX),Math.abs(this._mouseDownEvent.pageY-W.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),_.widget('ui.sortable',_.ui.mouse,{version:'1.11.4',widgetEventPrefix:'sort',ready:!1,options:{appendTo:'parent',axis:!1,connectWith:!1,containment:!1,cursor:'auto',cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:'original',items:'> *',opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:'default',tolerance:'intersect',zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(W,M,N){return W>=M&&M+N>W},_isFloating:function(W){return /left|right/.test(W.css('float'))||/inline|table-cell/.test(W.css('display'))},_create:function(){this.containerCache={},this.element.addClass('ui-sortable'),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(W,M){this._super(W,M),'handle'===W&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find('.ui-sortable-handle').removeClass('ui-sortable-handle'),_.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass('ui-sortable-handle')})},_destroy:function(){this.element.removeClass('ui-sortable ui-sortable-disabled').find('.ui-sortable-handle').removeClass('ui-sortable-handle'),this._mouseDestroy();for(var W=this.items.length-1;0<=W;W--)this.items[W].item.removeData(this.widgetName+'-item');return this},_mouseCapture:function(W,M){var N=null,R=!1,U=this;return!this.reverting&&(this.options.disabled||'static'===this.options.type?!1:(this._refreshItems(W),_(W.target).parents().each(function(){return _.data(this,U.widgetName+'-item')===U?(N=_(this),!1):void 0}),_.data(W.target,U.widgetName+'-item')===U&&(N=_(W.target)),!!N&&(!this.options.handle||M||(_(this.options.handle,N).find('*').addBack().each(function(){this===W.target&&(R=!0)}),R))&&(this.currentItem=N,this._removeCurrentsFromItems(),!0)))},_mouseStart:function(W,M,N){var R,U,V=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(W),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},_.extend(this.offset,{click:{left:W.pageX-this.offset.left,top:W.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css('position','absolute'),this.cssPosition=this.helper.css('position'),this.originalPosition=this._generatePosition(W),this.originalPageX=W.pageX,this.originalPageY=W.pageY,V.cursorAt&&this._adjustOffsetFromHelper(V.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),V.containment&&this._setContainment(),V.cursor&&'auto'!==V.cursor&&(U=this.document.find('body'),this.storedCursor=U.css('cursor'),U.css('cursor',V.cursor),this.storedStylesheet=_('<style>*{ cursor: '+V.cursor+' !important; }</style>').appendTo(U)),V.opacity&&(this.helper.css('opacity')&&(this._storedOpacity=this.helper.css('opacity')),this.helper.css('opacity',V.opacity)),V.zIndex&&(this.helper.css('zIndex')&&(this._storedZIndex=this.helper.css('zIndex')),this.helper.css('zIndex',V.zIndex)),this.scrollParent[0]!==this.document[0]&&'HTML'!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger('start',W,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!N)for(R=this.containers.length-1;0<=R;R--)this.containers[R]._trigger('activate',W,this._uiHash(this));return _.ui.ddmanager&&(_.ui.ddmanager.current=this),_.ui.ddmanager&&!V.dropBehaviour&&_.ui.ddmanager.prepareOffsets(this,W),this.dragging=!0,this.helper.addClass('ui-sortable-helper'),this._mouseDrag(W),!0},_mouseDrag:function(W){var M,N,R,U,V=this.options,X=!1;for(this.position=this._generatePosition(W),this.positionAbs=this._convertPositionTo('absolute'),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&'HTML'!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-W.pageY<V.scrollSensitivity?this.scrollParent[0].scrollTop=X=this.scrollParent[0].scrollTop+V.scrollSpeed:W.pageY-this.overflowOffset.top<V.scrollSensitivity&&(this.scrollParent[0].scrollTop=X=this.scrollParent[0].scrollTop-V.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-W.pageX<V.scrollSensitivity?this.scrollParent[0].scrollLeft=X=this.scrollParent[0].scrollLeft+V.scrollSpeed:W.pageX-this.overflowOffset.left<V.scrollSensitivity&&(this.scrollParent[0].scrollLeft=X=this.scrollParent[0].scrollLeft-V.scrollSpeed)):(W.pageY-this.document.scrollTop()<V.scrollSensitivity?X=this.document.scrollTop(this.document.scrollTop()-V.scrollSpeed):this.window.height()-(W.pageY-this.document.scrollTop())<V.scrollSensitivity&&(X=this.document.scrollTop(this.document.scrollTop()+V.scrollSpeed)),W.pageX-this.document.scrollLeft()<V.scrollSensitivity?X=this.document.scrollLeft(this.document.scrollLeft()-V.scrollSpeed):this.window.width()-(W.pageX-this.document.scrollLeft())<V.scrollSensitivity&&(X=this.document.scrollLeft(this.document.scrollLeft()+V.scrollSpeed))),!1!==X&&_.ui.ddmanager&&!V.dropBehaviour&&_.ui.ddmanager.prepareOffsets(this,W)),this.positionAbs=this._convertPositionTo('absolute'),this.options.axis&&'y'===this.options.axis||(this.helper[0].style.left=this.position.left+'px'),this.options.axis&&'x'===this.options.axis||(this.helper[0].style.top=this.position.top+'px'),M=this.items.length-1;0<=M;M--)if(N=this.items[M],R=N.item[0],U=this._intersectsWithPointer(N),U&&N.instance===this.currentContainer&&R!==this.currentItem[0]&&this.placeholder[1===U?'next':'prev']()[0]!==R&&!_.contains(this.placeholder[0],R)&&('semi-dynamic'!==this.options.type||!_.contains(this.element[0],R))){if(this.direction=1===U?'down':'up','pointer'!==this.options.tolerance&&!this._intersectsWithSides(N))break;this._rearrange(W,N),this._trigger('change',W,this._uiHash());break}return this._contactContainers(W),_.ui.ddmanager&&_.ui.ddmanager.drag(this,W),this._trigger('sort',W,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(W,M){if(W){if(_.ui.ddmanager&&!this.options.dropBehaviour&&_.ui.ddmanager.drop(this,W),this.options.revert){var N=this,R=this.placeholder.offset(),U=this.options.axis,V={};U&&'x'!==U||(V.left=R.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),U&&'y'!==U||(V.top=R.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,_(this.helper).animate(V,parseInt(this.options.revert,10)||500,function(){N._clear(W)})}else this._clear(W,M);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),'original'===this.options.helper?this.currentItem.css(this._storedCSS).removeClass('ui-sortable-helper'):this.currentItem.show();for(var W=this.containers.length-1;0<=W;W--)this.containers[W]._trigger('deactivate',null,this._uiHash(this)),this.containers[W].containerCache.over&&(this.containers[W]._trigger('out',null,this._uiHash(this)),this.containers[W].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),'original'!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),_.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?_(this.domPosition.prev).after(this.currentItem):_(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(W){var M=this._getItemsAsjQuery(W&&W.connected),N=[];return W=W||{},_(M).each(function(){var R=(_(W.item||this).attr(W.attribute||'id')||'').match(W.expression||/(.+)[\-=_](.+)/);R&&N.push((W.key||R[1]+'[]')+'='+(W.key&&W.expression?R[1]:R[2]))}),!N.length&&W.key&&N.push(W.key+'='),N.join('&')},toArray:function(W){var M=this._getItemsAsjQuery(W&&W.connected),N=[];return W=W||{},M.each(function(){N.push(_(W.item||this).attr(W.attribute||'id')||'')}),N},_intersectsWith:function(W){var M=this.positionAbs.left,N=M+this.helperProportions.width,R=this.positionAbs.top,U=R+this.helperProportions.height,V=W.left,X=V+W.width,Y=W.top,Z=Y+W.height,K=this.offset.click.top,Q=this.offset.click.left,ee='x'===this.options.axis||R+K>Y&&Z>R+K,te='y'===this.options.axis||M+Q>V&&X>M+Q;return'pointer'===this.options.tolerance||this.options.forcePointerForContainers||'pointer'!==this.options.tolerance&&this.helperProportions[this.floating?'width':'height']>W[this.floating?'width':'height']?ee&&te:M+this.helperProportions.width/2>V&&X>N-this.helperProportions.width/2&&R+this.helperProportions.height/2>Y&&Z>U-this.helperProportions.height/2},_intersectsWithPointer:function(W){var M='x'===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,W.top,W.height),N='y'===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,W.left,W.width),U=this._getDragVerticalDirection(),V=this._getDragHorizontalDirection();return!!(M&&N)&&(this.floating?V&&'right'===V||'down'===U?2:1:U&&('down'===U?2:1))},_intersectsWithSides:function(W){var M=this._isOverAxis(this.positionAbs.top+this.offset.click.top,W.top+W.height/2,W.height),N=this._isOverAxis(this.positionAbs.left+this.offset.click.left,W.left+W.width/2,W.width),R=this._getDragVerticalDirection(),U=this._getDragHorizontalDirection();return this.floating&&U?'right'===U&&N||'left'===U&&!N:R&&('down'===R&&M||'up'===R&&!M)},_getDragVerticalDirection:function(){var W=this.positionAbs.top-this.lastPositionAbs.top;return 0!=W&&(0<W?'down':'up')},_getDragHorizontalDirection:function(){var W=this.positionAbs.left-this.lastPositionAbs.left;return 0!=W&&(0<W?'right':'left')},refresh:function(W){return this._refreshItems(W),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var W=this.options;return W.connectWith.constructor===String?[W.connectWith]:W.connectWith},_getItemsAsjQuery:function(W){function M(){X.push(this)}var N,R,U,V,X=[],Y=[],Z=this._connectWith();if(Z&&W)for(N=Z.length-1;0<=N;N--)for(U=_(Z[N],this.document[0]),R=U.length-1;0<=R;R--)V=_.data(U[R],this.widgetFullName),V&&V!==this&&!V.options.disabled&&Y.push([_.isFunction(V.options.items)?V.options.items.call(V.element):_(V.options.items,V.element).not('.ui-sortable-helper').not('.ui-sortable-placeholder'),V]);for(Y.push([_.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):_(this.options.items,this.element).not('.ui-sortable-helper').not('.ui-sortable-placeholder'),this]),N=Y.length-1;0<=N;N--)Y[N][0].each(M);return _(X)},_removeCurrentsFromItems:function(){var W=this.currentItem.find(':data('+this.widgetName+'-item)');this.items=_.grep(this.items,function(M){for(var N=0;W.length>N;N++)if(W[N]===M.item[0])return!1;return!0})},_refreshItems:function(W){this.items=[],this.containers=[this];var M,N,R,U,V,X,Y,Z,K=this.items,Q=[[_.isFunction(this.options.items)?this.options.items.call(this.element[0],W,{item:this.currentItem}):_(this.options.items,this.element),this]],ee=this._connectWith();if(ee&&this.ready)for(M=ee.length-1;0<=M;M--)for(R=_(ee[M],this.document[0]),N=R.length-1;0<=N;N--)U=_.data(R[N],this.widgetFullName),U&&U!==this&&!U.options.disabled&&(Q.push([_.isFunction(U.options.items)?U.options.items.call(U.element[0],W,{item:this.currentItem}):_(U.options.items,U.element),U]),this.containers.push(U));for(M=Q.length-1;0<=M;M--)for(V=Q[M][1],X=Q[M][0],N=0,Z=X.length;Z>N;N++)Y=_(X[N]),Y.data(this.widgetName+'-item',V),K.push({item:Y,instance:V,width:0,height:0,left:0,top:0})},refreshPositions:function(W){this.floating=!!this.items.length&&('x'===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var M,N,R,U;for(M=this.items.length-1;0<=M;M--)N=this.items[M],N.instance!==this.currentContainer&&this.currentContainer&&N.item[0]!==this.currentItem[0]||(R=this.options.toleranceElement?_(this.options.toleranceElement,N.item):N.item,W||(N.width=R.outerWidth(),N.height=R.outerHeight()),U=R.offset(),N.left=U.left,N.top=U.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(M=this.containers.length-1;0<=M;M--)U=this.containers[M].element.offset(),this.containers[M].containerCache.left=U.left,this.containers[M].containerCache.top=U.top,this.containers[M].containerCache.width=this.containers[M].element.outerWidth(),this.containers[M].containerCache.height=this.containers[M].element.outerHeight();return this},_createPlaceholder:function(W){W=W||this;var M,N=W.options;N.placeholder&&N.placeholder.constructor!==String||(M=N.placeholder,N.placeholder={element:function(){var R=W.currentItem[0].nodeName.toLowerCase(),U=_('<'+R+'>',W.document[0]).addClass(M||W.currentItem[0].className+' ui-sortable-placeholder').removeClass('ui-sortable-helper');return'tbody'===R?W._createTrPlaceholder(W.currentItem.find('tr').eq(0),_('<tr>',W.document[0]).appendTo(U)):'tr'===R?W._createTrPlaceholder(W.currentItem,U):'img'===R&&U.attr('src',W.currentItem.attr('src')),M||U.css('visibility','hidden'),U},update:function(R,U){(!M||N.forcePlaceholderSize)&&(U.height()||U.height(W.currentItem.innerHeight()-parseInt(W.currentItem.css('paddingTop')||0,10)-parseInt(W.currentItem.css('paddingBottom')||0,10)),U.width()||U.width(W.currentItem.innerWidth()-parseInt(W.currentItem.css('paddingLeft')||0,10)-parseInt(W.currentItem.css('paddingRight')||0,10)))}}),W.placeholder=_(N.placeholder.element.call(W.element,W.currentItem)),W.currentItem.after(W.placeholder),N.placeholder.update(W,W.placeholder)},_createTrPlaceholder:function(W,M){var N=this;W.children().each(function(){_('<td>&#160;</td>',N.document[0]).attr('colspan',_(this).attr('colspan')||1).appendTo(M)})},_contactContainers:function(W){var M,N,R,U,V,X,Y,Z,K,Q,ee=null,te=null;for(M=this.containers.length-1;0<=M;M--)if(!_.contains(this.currentItem[0],this.containers[M].element[0]))if(this._intersectsWith(this.containers[M].containerCache)){if(ee&&_.contains(this.containers[M].element[0],ee.element[0]))continue;ee=this.containers[M],te=M}else this.containers[M].containerCache.over&&(this.containers[M]._trigger('out',W,this._uiHash(this)),this.containers[M].containerCache.over=0);if(ee)if(1===this.containers.length)this.containers[te].containerCache.over||(this.containers[te]._trigger('over',W,this._uiHash(this)),this.containers[te].containerCache.over=1);else{for(R=1e4,U=null,K=ee.floating||this._isFloating(this.currentItem),V=K?'left':'top',X=K?'width':'height',Q=K?'clientX':'clientY',N=this.items.length-1;0<=N;N--)_.contains(this.containers[te].element[0],this.items[N].item[0])&&this.items[N].item[0]!==this.currentItem[0]&&(Y=this.items[N].item.offset()[V],Z=!1,W[Q]-Y>this.items[N][X]/2&&(Z=!0),R>Math.abs(W[Q]-Y)&&(R=Math.abs(W[Q]-Y),U=this.items[N],this.direction=Z?'up':'down'));if(!U&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[te])return this.currentContainer.containerCache.over||(this.containers[te]._trigger('over',W,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;U?this._rearrange(W,U,null,!0):this._rearrange(W,null,this.containers[te].element,!0),this._trigger('change',W,this._uiHash()),this.containers[te]._trigger('change',W,this._uiHash(this)),this.currentContainer=this.containers[te],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[te]._trigger('over',W,this._uiHash(this)),this.containers[te].containerCache.over=1}},_createHelper:function(W){var M=this.options,N=_.isFunction(M.helper)?_(M.helper.apply(this.element[0],[W,this.currentItem])):'clone'===M.helper?this.currentItem.clone():this.currentItem;return N.parents('body').length||_('parent'===M.appendTo?this.currentItem[0].parentNode:M.appendTo)[0].appendChild(N[0]),N[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css('position'),top:this.currentItem.css('top'),left:this.currentItem.css('left')}),(!N[0].style.width||M.forceHelperSize)&&N.width(this.currentItem.width()),(!N[0].style.height||M.forceHelperSize)&&N.height(this.currentItem.height()),N},_adjustOffsetFromHelper:function(W){'string'==typeof W&&(W=W.split(' ')),_.isArray(W)&&(W={left:+W[0],top:+W[1]||0}),'left'in W&&(this.offset.click.left=W.left+this.margins.left),'right'in W&&(this.offset.click.left=this.helperProportions.width-W.right+this.margins.left),'top'in W&&(this.offset.click.top=W.top+this.margins.top),'bottom'in W&&(this.offset.click.top=this.helperProportions.height-W.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var W=this.offsetParent.offset();return'absolute'===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&_.contains(this.scrollParent[0],this.offsetParent[0])&&(W.left+=this.scrollParent.scrollLeft(),W.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&'html'===this.offsetParent[0].tagName.toLowerCase()&&_.ui.ie)&&(W={top:0,left:0}),{top:W.top+(parseInt(this.offsetParent.css('borderTopWidth'),10)||0),left:W.left+(parseInt(this.offsetParent.css('borderLeftWidth'),10)||0)}},_getRelativeOffset:function(){if('relative'===this.cssPosition){var W=this.currentItem.position();return{top:W.top-(parseInt(this.helper.css('top'),10)||0)+this.scrollParent.scrollTop(),left:W.left-(parseInt(this.helper.css('left'),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css('marginLeft'),10)||0,top:parseInt(this.currentItem.css('marginTop'),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var W,M,N,R=this.options;'parent'===R.containment&&(R.containment=this.helper[0].parentNode),('document'===R.containment||'window'===R.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,'document'===R.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,('document'===R.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(R.containment)||(W=_(R.containment)[0],M=_(R.containment).offset(),N='hidden'!==_(W).css('overflow'),this.containment=[M.left+(parseInt(_(W).css('borderLeftWidth'),10)||0)+(parseInt(_(W).css('paddingLeft'),10)||0)-this.margins.left,M.top+(parseInt(_(W).css('borderTopWidth'),10)||0)+(parseInt(_(W).css('paddingTop'),10)||0)-this.margins.top,M.left+(N?Math.max(W.scrollWidth,W.offsetWidth):W.offsetWidth)-(parseInt(_(W).css('borderLeftWidth'),10)||0)-(parseInt(_(W).css('paddingRight'),10)||0)-this.helperProportions.width-this.margins.left,M.top+(N?Math.max(W.scrollHeight,W.offsetHeight):W.offsetHeight)-(parseInt(_(W).css('borderTopWidth'),10)||0)-(parseInt(_(W).css('paddingBottom'),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(W,M){M||(M=this.position);var N='absolute'===W?1:-1,R='absolute'!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&_.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,U=/(html|body)/i.test(R[0].tagName);return{top:M.top+this.offset.relative.top*N+this.offset.parent.top*N-('fixed'===this.cssPosition?-this.scrollParent.scrollTop():U?0:R.scrollTop())*N,left:M.left+this.offset.relative.left*N+this.offset.parent.left*N-('fixed'===this.cssPosition?-this.scrollParent.scrollLeft():U?0:R.scrollLeft())*N}},_generatePosition:function(W){var M,N,R=this.options,U=W.pageX,V=W.pageY,X='absolute'!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&_.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,Y=/(html|body)/i.test(X[0].tagName);return'relative'!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(W.pageX-this.offset.click.left<this.containment[0]&&(U=this.containment[0]+this.offset.click.left),W.pageY-this.offset.click.top<this.containment[1]&&(V=this.containment[1]+this.offset.click.top),W.pageX-this.offset.click.left>this.containment[2]&&(U=this.containment[2]+this.offset.click.left),W.pageY-this.offset.click.top>this.containment[3]&&(V=this.containment[3]+this.offset.click.top)),R.grid&&(M=this.originalPageY+Math.round((V-this.originalPageY)/R.grid[1])*R.grid[1],V=this.containment?M-this.offset.click.top>=this.containment[1]&&M-this.offset.click.top<=this.containment[3]?M:M-this.offset.click.top>=this.containment[1]?M-R.grid[1]:M+R.grid[1]:M,N=this.originalPageX+Math.round((U-this.originalPageX)/R.grid[0])*R.grid[0],U=this.containment?N-this.offset.click.left>=this.containment[0]&&N-this.offset.click.left<=this.containment[2]?N:N-this.offset.click.left>=this.containment[0]?N-R.grid[0]:N+R.grid[0]:N)),{top:V-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+('fixed'===this.cssPosition?-this.scrollParent.scrollTop():Y?0:X.scrollTop()),left:U-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+('fixed'===this.cssPosition?-this.scrollParent.scrollLeft():Y?0:X.scrollLeft())}},_rearrange:function(W,M,N,R){N?N[0].appendChild(this.placeholder[0]):M.item[0].parentNode.insertBefore(this.placeholder[0],'down'===this.direction?M.item[0]:M.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var U=this.counter;this._delay(function(){U===this.counter&&this.refreshPositions(!R)})},_clear:function(W,M){function N(V,X,Y){return function(Z){Y._trigger(V,Z,X._uiHash(X))}}this.reverting=!1;var R,U=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(R in this._storedCSS)('auto'===this._storedCSS[R]||'static'===this._storedCSS[R])&&(this._storedCSS[R]='');this.currentItem.css(this._storedCSS).removeClass('ui-sortable-helper')}else this.currentItem.show();for(this.fromOutside&&!M&&U.push(function(V){this._trigger('receive',V,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not('.ui-sortable-helper')[0]&&this.domPosition.parent===this.currentItem.parent()[0]||M||U.push(function(V){this._trigger('update',V,this._uiHash())}),this!==this.currentContainer&&(M||(U.push(function(V){this._trigger('remove',V,this._uiHash())}),U.push(function(V){return function(X){V._trigger('receive',X,this._uiHash(this))}}.call(this,this.currentContainer)),U.push(function(V){return function(X){V._trigger('update',X,this._uiHash(this))}}.call(this,this.currentContainer)))),R=this.containers.length-1;0<=R;R--)M||U.push(N('deactivate',this,this.containers[R])),this.containers[R].containerCache.over&&(U.push(N('out',this,this.containers[R])),this.containers[R].containerCache.over=0);if(this.storedCursor&&(this.document.find('body').css('cursor',this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css('opacity',this._storedOpacity),this._storedZIndex&&this.helper.css('zIndex','auto'===this._storedZIndex?'':this._storedZIndex),this.dragging=!1,M||this._trigger('beforeStop',W,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!M){for(R=0;U.length>R;R++)U[R].call(this,W);this._trigger('stop',W,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===_.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(W){var M=W||this;return{helper:M.helper,placeholder:M.placeholder||_([]),position:M.position,originalPosition:M.originalPosition,offset:M.positionAbs,item:M.currentItem,sender:W?W.element:null}}}),_.widget('ui.slider',_.ui.mouse,{version:'1.11.4',widgetEventPrefix:'slide',options:{animate:!1,distance:0,max:100,min:0,orientation:'horizontal',range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass('ui-slider ui-slider-'+this.orientation+' ui-widget ui-widget-content ui-corner-all'),this._refresh(),this._setOption('disabled',this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var W,M,N=this.options,R=this.element.find('.ui-slider-handle').addClass('ui-state-default ui-corner-all'),V=[];for(M=N.values&&N.values.length||1,R.length>M&&(R.slice(M).remove(),R=R.slice(0,M)),W=R.length;M>W;W++)V.push('<span class=\'ui-slider-handle ui-state-default ui-corner-all\' tabindex=\'0\'></span>');this.handles=R.add(_(V.join('')).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(X){_(this).data('ui-slider-handle-index',X)})},_createRange:function(){var W=this.options,M='';W.range?(!0===W.range&&(W.values?W.values.length&&2!==W.values.length?W.values=[W.values[0],W.values[0]]:_.isArray(W.values)&&(W.values=W.values.slice(0)):W.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass('ui-slider-range-min ui-slider-range-max').css({left:'',bottom:''}):(this.range=_('<div></div>').appendTo(this.element),M='ui-slider-range ui-widget-header ui-corner-all'),this.range.addClass(M+('min'===W.range||'max'===W.range?' ui-slider-range-'+W.range:''))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass('ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all'),this._mouseDestroy()},_mouseCapture:function(W){var M,N,R,U,V,X,Y,Z,K=this,Q=this.options;return!Q.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),M={x:W.pageX,y:W.pageY},N=this._normValueFromMouse(M),R=this._valueMax()-this._valueMin()+1,this.handles.each(function(ee){var te=Math.abs(N-K.values(ee));(R>te||R===te&&(ee===K._lastChangedValue||K.values(ee)===Q.min))&&(R=te,U=_(this),V=ee)}),X=this._start(W,V),!1!==X&&(this._mouseSliding=!0,this._handleIndex=V,U.addClass('ui-state-active').focus(),Y=U.offset(),Z=!_(W.target).parents().addBack().is('.ui-slider-handle'),this._clickOffset=Z?{left:0,top:0}:{left:W.pageX-Y.left-U.width()/2,top:W.pageY-Y.top-U.height()/2-(parseInt(U.css('borderTopWidth'),10)||0)-(parseInt(U.css('borderBottomWidth'),10)||0)+(parseInt(U.css('marginTop'),10)||0)},this.handles.hasClass('ui-state-hover')||this._slide(W,V,N),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(W){var M={x:W.pageX,y:W.pageY},N=this._normValueFromMouse(M);return this._slide(W,this._handleIndex,N),!1},_mouseStop:function(W){return this.handles.removeClass('ui-state-active'),this._mouseSliding=!1,this._stop(W,this._handleIndex),this._change(W,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation='vertical'===this.options.orientation?'vertical':'horizontal'},_normValueFromMouse:function(W){var M,N,R,U,V;return'horizontal'===this.orientation?(M=this.elementSize.width,N=W.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(M=this.elementSize.height,N=W.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),R=N/M,1<R&&(R=1),0>R&&(R=0),'vertical'===this.orientation&&(R=1-R),U=this._valueMax()-this._valueMin(),V=this._valueMin()+R*U,this._trimAlignValue(V)},_start:function(W,M){var N={handle:this.handles[M],value:this.value()};return this.options.values&&this.options.values.length&&(N.value=this.values(M),N.values=this.values()),this._trigger('start',W,N)},_slide:function(W,M,N){var R,U,V;this.options.values&&this.options.values.length?(R=this.values(M?0:1),2===this.options.values.length&&!0===this.options.range&&(0===M&&N>R||1===M&&R>N)&&(N=R),N!==this.values(M)&&(U=this.values(),U[M]=N,V=this._trigger('slide',W,{handle:this.handles[M],value:N,values:U}),R=this.values(M?0:1),!1!==V&&this.values(M,N))):N!==this.value()&&(V=this._trigger('slide',W,{handle:this.handles[M],value:N}),!1!==V&&this.value(N))},_stop:function(W,M){var N={handle:this.handles[M],value:this.value()};this.options.values&&this.options.values.length&&(N.value=this.values(M),N.values=this.values()),this._trigger('stop',W,N)},_change:function(W,M){if(!this._keySliding&&!this._mouseSliding){var N={handle:this.handles[M],value:this.value()};this.options.values&&this.options.values.length&&(N.value=this.values(M),N.values=this.values()),this._lastChangedValue=M,this._trigger('change',W,N)}},value:function(W){return arguments.length?(this.options.value=this._trimAlignValue(W),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(W,M){var N,R,U;if(1<arguments.length)return this.options.values[W]=this._trimAlignValue(M),this._refreshValue(),this._change(null,W),void 0;if(!arguments.length)return this._values();if(!_.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(W):this.value();for(N=this.options.values,R=arguments[0],U=0;N.length>U;U+=1)N[U]=this._trimAlignValue(R[U]),this._change(null,U);this._refreshValue()},_setOption:function(W,M){var N,R=0;switch('range'===W&&!0===this.options.range&&('min'===M?(this.options.value=this._values(0),this.options.values=null):'max'==M&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),_.isArray(this.options.values)&&(R=this.options.values.length),'disabled'===W&&this.element.toggleClass('ui-state-disabled',!!M),this._super(W,M),W){case'orientation':this._detectOrientation(),this.element.removeClass('ui-slider-horizontal ui-slider-vertical').addClass('ui-slider-'+this.orientation),this._refreshValue(),this.handles.css('horizontal'===M?'bottom':'left','');break;case'value':this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case'values':for(this._animateOff=!0,this._refreshValue(),N=0;R>N;N+=1)this._change(null,N);this._animateOff=!1;break;case'step':case'min':case'max':this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case'range':this._animateOff=!0,this._refresh(),this._animateOff=!1;}},_value:function(){var W=this.options.value;return W=this._trimAlignValue(W)},_values:function(W){var M,N,R;if(arguments.length)return M=this.options.values[W],M=this._trimAlignValue(M);if(this.options.values&&this.options.values.length){for(N=this.options.values.slice(),R=0;N.length>R;R+=1)N[R]=this._trimAlignValue(N[R]);return N}return[]},_trimAlignValue:function(W){if(this._valueMin()>=W)return this._valueMin();if(W>=this._valueMax())return this._valueMax();var M=0<this.options.step?this.options.step:1,N=(W-this._valueMin())%M,R=W-N;return 2*Math.abs(N)>=M&&(R+=0<N?M:-M),parseFloat(R.toFixed(5))},_calculateNewMax:function(){var W=this.options.max,M=this._valueMin(),N=this.options.step,R=Math.floor(+(W-M).toFixed(this._precision())/N)*N;W=R+M,this.max=parseFloat(W.toFixed(this._precision()))},_precision:function(){var W=this._precisionOf(this.options.step);return null!==this.options.min&&(W=Math.max(W,this._precisionOf(this.options.min))),W},_precisionOf:function(W){var M=''+W,N=M.indexOf('.');return-1===N?0:M.length-N-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var W,M,N,R,U,V=this.options.range,X=this.options,Y=this,Z=!this._animateOff&&X.animate,K={};this.options.values&&this.options.values.length?this.handles.each(function(Q){M=100*((Y.values(Q)-Y._valueMin())/(Y._valueMax()-Y._valueMin())),K['horizontal'===Y.orientation?'left':'bottom']=M+'%',_(this).stop(1,1)[Z?'animate':'css'](K,X.animate),!0===Y.options.range&&('horizontal'===Y.orientation?(0===Q&&Y.range.stop(1,1)[Z?'animate':'css']({left:M+'%'},X.animate),1===Q&&Y.range[Z?'animate':'css']({width:M-W+'%'},{queue:!1,duration:X.animate})):(0===Q&&Y.range.stop(1,1)[Z?'animate':'css']({bottom:M+'%'},X.animate),1===Q&&Y.range[Z?'animate':'css']({height:M-W+'%'},{queue:!1,duration:X.animate}))),W=M}):(N=this.value(),R=this._valueMin(),U=this._valueMax(),M=U===R?0:100*((N-R)/(U-R)),K['horizontal'===this.orientation?'left':'bottom']=M+'%',this.handle.stop(1,1)[Z?'animate':'css'](K,X.animate),'min'===V&&'horizontal'===this.orientation&&this.range.stop(1,1)[Z?'animate':'css']({width:M+'%'},X.animate),'max'===V&&'horizontal'===this.orientation&&this.range[Z?'animate':'css']({width:100-M+'%'},{queue:!1,duration:X.animate}),'min'===V&&'vertical'===this.orientation&&this.range.stop(1,1)[Z?'animate':'css']({height:M+'%'},X.animate),'max'===V&&'vertical'===this.orientation&&this.range[Z?'animate':'css']({height:100-M+'%'},{queue:!1,duration:X.animate}))},_handleEvents:{keydown:function(W){var M,N,R,U,V=_(W.target).data('ui-slider-handle-index');switch(W.keyCode){case _.ui.keyCode.HOME:case _.ui.keyCode.END:case _.ui.keyCode.PAGE_UP:case _.ui.keyCode.PAGE_DOWN:case _.ui.keyCode.UP:case _.ui.keyCode.RIGHT:case _.ui.keyCode.DOWN:case _.ui.keyCode.LEFT:if(W.preventDefault(),!this._keySliding&&(this._keySliding=!0,_(W.target).addClass('ui-state-active'),M=this._start(W,V),!1===M))return;}switch(U=this.options.step,N=R=this.options.values&&this.options.values.length?this.values(V):this.value(),W.keyCode){case _.ui.keyCode.HOME:R=this._valueMin();break;case _.ui.keyCode.END:R=this._valueMax();break;case _.ui.keyCode.PAGE_UP:R=this._trimAlignValue(N+(this._valueMax()-this._valueMin())/this.numPages);break;case _.ui.keyCode.PAGE_DOWN:R=this._trimAlignValue(N-(this._valueMax()-this._valueMin())/this.numPages);break;case _.ui.keyCode.UP:case _.ui.keyCode.RIGHT:if(N===this._valueMax())return;R=this._trimAlignValue(N+U);break;case _.ui.keyCode.DOWN:case _.ui.keyCode.LEFT:if(N===this._valueMin())return;R=this._trimAlignValue(N-U);}this._slide(W,V,R)},keyup:function(W){var M=_(W.target).data('ui-slider-handle-index');this._keySliding&&(this._keySliding=!1,this._stop(W,M),this._change(W,M),_(W.target).removeClass('ui-state-active'))}}})});